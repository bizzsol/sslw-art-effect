<?php
bolt_decrypt( __FILE__ , 'TOtpB7'); return 0;
##!!!##Cgp1c2UgSWxsdW1pbmF0ZVxTdXBwb3J0XEZhY2FkZXNcU2NoZW1hOwp1c2UgSWxsdW1pbmF0ZVxEYXRhYmFzZVxTY2hlbWFcQmx1ZXByaW50Owp1c2UgSWxsdW1pbmF0ZVxEYXRhYmFzZVxNaWdyYXRpb25zXE1pZ3JhdGlvbjsKdXNlIFNwYXRpZVxQZXJtaXNzaW9uXFBlcm1pc3Npb25SZWdpc3RyYXI7CgpjbGFzcyBDcmVhdGVQZXJtaXNzaW9uVGFibGVzIGV4dGVuZHMgTWlncmF0aW9uCnsKICAgIC8qKgogICAgICogUnVuIHRoZSBtaWdyYXRpb25zLgogICAgICoKICAgICAqIEByZXR1cm4gdm9pZAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gdXAoKQogICAgewogICAgICAgICR0YWJsZU5hbWVzID0gY29uZmlnKCdwZXJtaXNzaW9uLnRhYmxlX25hbWVzJyk7CiAgICAgICAgJGNvbHVtbk5hbWVzID0gY29uZmlnKCdwZXJtaXNzaW9uLmNvbHVtbl9uYW1lcycpOwogICAgICAgICR0ZWFtcyA9IGNvbmZpZygncGVybWlzc2lvbi50ZWFtcycpOwoKICAgICAgICBpZiAoZW1wdHkoJHRhYmxlTmFtZXMpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBcRXhjZXB0aW9uKCdFcnJvcjogY29uZmlnL3Blcm1pc3Npb24ucGhwIG5vdCBsb2FkZWQuIFJ1biBbcGhwIGFydGlzYW4gY29uZmlnOmNsZWFyXSBhbmQgdHJ5IGFnYWluLicpOwogICAgICAgIH0KICAgICAgICBpZiAoJHRlYW1zICYmIGVtcHR5KCRjb2x1bW5OYW1lc1sndGVhbV9mb3JlaWduX2tleSddID8/IG51bGwpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBcRXhjZXB0aW9uKCdFcnJvcjogdGVhbV9mb3JlaWduX2tleSBvbiBjb25maWcvcGVybWlzc2lvbi5waHAgbm90IGxvYWRlZC4gUnVuIFtwaHAgYXJ0aXNhbiBjb25maWc6Y2xlYXJdIGFuZCB0cnkgYWdhaW4uJyk7CiAgICAgICAgfQoKICAgICAgICBTY2hlbWE6OmNyZWF0ZSgkdGFibGVOYW1lc1sncGVybWlzc2lvbnMnXSwgZnVuY3Rpb24gKEJsdWVwcmludCAkdGFibGUpIHsKICAgICAgICAgICAgJHRhYmxlLT5iaWdJbmNyZW1lbnRzKCdpZCcpOwogICAgICAgICAgICAkdGFibGUtPnN0cmluZygnbmFtZScpOyAgICAgICAvLyBGb3IgTXlTUUwgOC4wIHVzZSBzdHJpbmcoJ25hbWUnLCAxMjUpOwogICAgICAgICAgICAkdGFibGUtPnN0cmluZygnZ3VhcmRfbmFtZScpOyAvLyBGb3IgTXlTUUwgOC4wIHVzZSBzdHJpbmcoJ2d1YXJkX25hbWUnLCAxMjUpOwogICAgICAgICAgICAkdGFibGUtPnRpbWVzdGFtcHMoKTsKCiAgICAgICAgICAgICR0YWJsZS0+dW5pcXVlKFsnbmFtZScsICdndWFyZF9uYW1lJ10pOwogICAgICAgIH0pOwoKICAgICAgICBTY2hlbWE6OmNyZWF0ZSgkdGFibGVOYW1lc1sncm9sZXMnXSwgZnVuY3Rpb24gKEJsdWVwcmludCAkdGFibGUpIHVzZSAoJHRlYW1zLCAkY29sdW1uTmFtZXMpIHsKICAgICAgICAgICAgJHRhYmxlLT5iaWdJbmNyZW1lbnRzKCdpZCcpOwogICAgICAgICAgICBpZiAoJHRlYW1zIHx8IGNvbmZpZygncGVybWlzc2lvbi50ZXN0aW5nJykpIHsgLy8gcGVybWlzc2lvbi50ZXN0aW5nIGlzIGEgZml4IGZvciBzcWxpdGUgdGVzdGluZwogICAgICAgICAgICAgICAgJHRhYmxlLT51bnNpZ25lZEJpZ0ludGVnZXIoJGNvbHVtbk5hbWVzWyd0ZWFtX2ZvcmVpZ25fa2V5J10pLT5udWxsYWJsZSgpOwogICAgICAgICAgICAgICAgJHRhYmxlLT5pbmRleCgkY29sdW1uTmFtZXNbJ3RlYW1fZm9yZWlnbl9rZXknXSwgJ3JvbGVzX3RlYW1fZm9yZWlnbl9rZXlfaW5kZXgnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkdGFibGUtPnN0cmluZygnbmFtZScpOyAgICAgICAvLyBGb3IgTXlTUUwgOC4wIHVzZSBzdHJpbmcoJ25hbWUnLCAxMjUpOwogICAgICAgICAgICAkdGFibGUtPnN0cmluZygnZ3VhcmRfbmFtZScpOyAvLyBGb3IgTXlTUUwgOC4wIHVzZSBzdHJpbmcoJ2d1YXJkX25hbWUnLCAxMjUpOwogICAgICAgICAgICAkdGFibGUtPnRpbWVzdGFtcHMoKTsKICAgICAgICAgICAgaWYgKCR0ZWFtcyB8fCBjb25maWcoJ3Blcm1pc3Npb24udGVzdGluZycpKSB7CiAgICAgICAgICAgICAgICAkdGFibGUtPnVuaXF1ZShbJGNvbHVtbk5hbWVzWyd0ZWFtX2ZvcmVpZ25fa2V5J10sICduYW1lJywgJ2d1YXJkX25hbWUnXSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkdGFibGUtPnVuaXF1ZShbJ25hbWUnLCAnZ3VhcmRfbmFtZSddKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBTY2hlbWE6OmNyZWF0ZSgkdGFibGVOYW1lc1snbW9kZWxfaGFzX3Blcm1pc3Npb25zJ10sIGZ1bmN0aW9uIChCbHVlcHJpbnQgJHRhYmxlKSB1c2UgKCR0YWJsZU5hbWVzLCAkY29sdW1uTmFtZXMsICR0ZWFtcykgewogICAgICAgICAgICAkdGFibGUtPnVuc2lnbmVkQmlnSW50ZWdlcihQZXJtaXNzaW9uUmVnaXN0cmFyOjokcGl2b3RQZXJtaXNzaW9uKTsKCiAgICAgICAgICAgICR0YWJsZS0+c3RyaW5nKCdtb2RlbF90eXBlJyk7CiAgICAgICAgICAgICR0YWJsZS0+dW5zaWduZWRCaWdJbnRlZ2VyKCRjb2x1bW5OYW1lc1snbW9kZWxfbW9ycGhfa2V5J10pOwogICAgICAgICAgICAkdGFibGUtPmluZGV4KFskY29sdW1uTmFtZXNbJ21vZGVsX21vcnBoX2tleSddLCAnbW9kZWxfdHlwZSddLCAnbW9kZWxfaGFzX3Blcm1pc3Npb25zX21vZGVsX2lkX21vZGVsX3R5cGVfaW5kZXgnKTsKCiAgICAgICAgICAgICR0YWJsZS0+Zm9yZWlnbihQZXJtaXNzaW9uUmVnaXN0cmFyOjokcGl2b3RQZXJtaXNzaW9uKQogICAgICAgICAgICAgICAgLT5yZWZlcmVuY2VzKCdpZCcpCiAgICAgICAgICAgICAgICAtPm9uKCR0YWJsZU5hbWVzWydwZXJtaXNzaW9ucyddKQogICAgICAgICAgICAgICAgLT5vbkRlbGV0ZSgnY2FzY2FkZScpOwogICAgICAgICAgICBpZiAoJHRlYW1zKSB7CiAgICAgICAgICAgICAgICAkdGFibGUtPnVuc2lnbmVkQmlnSW50ZWdlcigkY29sdW1uTmFtZXNbJ3RlYW1fZm9yZWlnbl9rZXknXSk7CiAgICAgICAgICAgICAgICAkdGFibGUtPmluZGV4KCRjb2x1bW5OYW1lc1sndGVhbV9mb3JlaWduX2tleSddLCAnbW9kZWxfaGFzX3Blcm1pc3Npb25zX3RlYW1fZm9yZWlnbl9rZXlfaW5kZXgnKTsKCiAgICAgICAgICAgICAgICAkdGFibGUtPnByaW1hcnkoWyRjb2x1bW5OYW1lc1sndGVhbV9mb3JlaWduX2tleSddLCBQZXJtaXNzaW9uUmVnaXN0cmFyOjokcGl2b3RQZXJtaXNzaW9uLCAkY29sdW1uTmFtZXNbJ21vZGVsX21vcnBoX2tleSddLCAnbW9kZWxfdHlwZSddLAogICAgICAgICAgICAgICAgICAgICdtb2RlbF9oYXNfcGVybWlzc2lvbnNfcGVybWlzc2lvbl9tb2RlbF90eXBlX3ByaW1hcnknKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICR0YWJsZS0+cHJpbWFyeShbUGVybWlzc2lvblJlZ2lzdHJhcjo6JHBpdm90UGVybWlzc2lvbiwgJGNvbHVtbk5hbWVzWydtb2RlbF9tb3JwaF9rZXknXSwgJ21vZGVsX3R5cGUnXSwKICAgICAgICAgICAgICAgICAgICAnbW9kZWxfaGFzX3Blcm1pc3Npb25zX3Blcm1pc3Npb25fbW9kZWxfdHlwZV9wcmltYXJ5Jyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgfSk7CgogICAgICAgIFNjaGVtYTo6Y3JlYXRlKCR0YWJsZU5hbWVzWydtb2RlbF9oYXNfcm9sZXMnXSwgZnVuY3Rpb24gKEJsdWVwcmludCAkdGFibGUpIHVzZSAoJHRhYmxlTmFtZXMsICRjb2x1bW5OYW1lcywgJHRlYW1zKSB7CiAgICAgICAgICAgICR0YWJsZS0+dW5zaWduZWRCaWdJbnRlZ2VyKFBlcm1pc3Npb25SZWdpc3RyYXI6OiRwaXZvdFJvbGUpOwoKICAgICAgICAgICAgJHRhYmxlLT5zdHJpbmcoJ21vZGVsX3R5cGUnKTsKICAgICAgICAgICAgJHRhYmxlLT51bnNpZ25lZEJpZ0ludGVnZXIoJGNvbHVtbk5hbWVzWydtb2RlbF9tb3JwaF9rZXknXSk7CiAgICAgICAgICAgICR0YWJsZS0+aW5kZXgoWyRjb2x1bW5OYW1lc1snbW9kZWxfbW9ycGhfa2V5J10sICdtb2RlbF90eXBlJ10sICdtb2RlbF9oYXNfcm9sZXNfbW9kZWxfaWRfbW9kZWxfdHlwZV9pbmRleCcpOwoKICAgICAgICAgICAgJHRhYmxlLT5mb3JlaWduKFBlcm1pc3Npb25SZWdpc3RyYXI6OiRwaXZvdFJvbGUpCiAgICAgICAgICAgICAgICAtPnJlZmVyZW5jZXMoJ2lkJykKICAgICAgICAgICAgICAgIC0+b24oJHRhYmxlTmFtZXNbJ3JvbGVzJ10pCiAgICAgICAgICAgICAgICAtPm9uRGVsZXRlKCdjYXNjYWRlJyk7CiAgICAgICAgICAgIGlmICgkdGVhbXMpIHsKICAgICAgICAgICAgICAgICR0YWJsZS0+dW5zaWduZWRCaWdJbnRlZ2VyKCRjb2x1bW5OYW1lc1sndGVhbV9mb3JlaWduX2tleSddKTsKICAgICAgICAgICAgICAgICR0YWJsZS0+aW5kZXgoJGNvbHVtbk5hbWVzWyd0ZWFtX2ZvcmVpZ25fa2V5J10sICdtb2RlbF9oYXNfcm9sZXNfdGVhbV9mb3JlaWduX2tleV9pbmRleCcpOwoKICAgICAgICAgICAgICAgICR0YWJsZS0+cHJpbWFyeShbJGNvbHVtbk5hbWVzWyd0ZWFtX2ZvcmVpZ25fa2V5J10sIFBlcm1pc3Npb25SZWdpc3RyYXI6OiRwaXZvdFJvbGUsICRjb2x1bW5OYW1lc1snbW9kZWxfbW9ycGhfa2V5J10sICdtb2RlbF90eXBlJ10sCiAgICAgICAgICAgICAgICAgICAgJ21vZGVsX2hhc19yb2xlc19yb2xlX21vZGVsX3R5cGVfcHJpbWFyeScpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJHRhYmxlLT5wcmltYXJ5KFtQZXJtaXNzaW9uUmVnaXN0cmFyOjokcGl2b3RSb2xlLCAkY29sdW1uTmFtZXNbJ21vZGVsX21vcnBoX2tleSddLCAnbW9kZWxfdHlwZSddLAogICAgICAgICAgICAgICAgICAgICdtb2RlbF9oYXNfcm9sZXNfcm9sZV9tb2RlbF90eXBlX3ByaW1hcnknKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBTY2hlbWE6OmNyZWF0ZSgkdGFibGVOYW1lc1sncm9sZV9oYXNfcGVybWlzc2lvbnMnXSwgZnVuY3Rpb24gKEJsdWVwcmludCAkdGFibGUpIHVzZSAoJHRhYmxlTmFtZXMpIHsKICAgICAgICAgICAgJHRhYmxlLT51bnNpZ25lZEJpZ0ludGVnZXIoUGVybWlzc2lvblJlZ2lzdHJhcjo6JHBpdm90UGVybWlzc2lvbik7CiAgICAgICAgICAgICR0YWJsZS0+dW5zaWduZWRCaWdJbnRlZ2VyKFBlcm1pc3Npb25SZWdpc3RyYXI6OiRwaXZvdFJvbGUpOwoKICAgICAgICAgICAgJHRhYmxlLT5mb3JlaWduKFBlcm1pc3Npb25SZWdpc3RyYXI6OiRwaXZvdFBlcm1pc3Npb24pCiAgICAgICAgICAgICAgICAtPnJlZmVyZW5jZXMoJ2lkJykKICAgICAgICAgICAgICAgIC0+b24oJHRhYmxlTmFtZXNbJ3Blcm1pc3Npb25zJ10pCiAgICAgICAgICAgICAgICAtPm9uRGVsZXRlKCdjYXNjYWRlJyk7CgogICAgICAgICAgICAkdGFibGUtPmZvcmVpZ24oUGVybWlzc2lvblJlZ2lzdHJhcjo6JHBpdm90Um9sZSkKICAgICAgICAgICAgICAgIC0+cmVmZXJlbmNlcygnaWQnKQogICAgICAgICAgICAgICAgLT5vbigkdGFibGVOYW1lc1sncm9sZXMnXSkKICAgICAgICAgICAgICAgIC0+b25EZWxldGUoJ2Nhc2NhZGUnKTsKCiAgICAgICAgICAgICR0YWJsZS0+cHJpbWFyeShbUGVybWlzc2lvblJlZ2lzdHJhcjo6JHBpdm90UGVybWlzc2lvbiwgUGVybWlzc2lvblJlZ2lzdHJhcjo6JHBpdm90Um9sZV0sICdyb2xlX2hhc19wZXJtaXNzaW9uc19wZXJtaXNzaW9uX2lkX3JvbGVfaWRfcHJpbWFyeScpOwogICAgICAgIH0pOwoKICAgICAgICBhcHAoJ2NhY2hlJykKICAgICAgICAgICAgLT5zdG9yZShjb25maWcoJ3Blcm1pc3Npb24uY2FjaGUuc3RvcmUnKSAhPSAnZGVmYXVsdCcgPyBjb25maWcoJ3Blcm1pc3Npb24uY2FjaGUuc3RvcmUnKSA6IG51bGwpCiAgICAgICAgICAgIC0+Zm9yZ2V0KGNvbmZpZygncGVybWlzc2lvbi5jYWNoZS5rZXknKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXZlcnNlIHRoZSBtaWdyYXRpb25zLgogICAgICoKICAgICAqIEByZXR1cm4gdm9pZAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZG93bigpCiAgICB7CiAgICAgICAgJHRhYmxlTmFtZXMgPSBjb25maWcoJ3Blcm1pc3Npb24udGFibGVfbmFtZXMnKTsKCiAgICAgICAgaWYgKGVtcHR5KCR0YWJsZU5hbWVzKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgXEV4Y2VwdGlvbignRXJyb3I6IGNvbmZpZy9wZXJtaXNzaW9uLnBocCBub3QgZm91bmQgYW5kIGRlZmF1bHRzIGNvdWxkIG5vdCBiZSBtZXJnZWQuIFBsZWFzZSBwdWJsaXNoIHRoZSBwYWNrYWdlIGNvbmZpZ3VyYXRpb24gYmVmb3JlIHByb2NlZWRpbmcsIG9yIGRyb3AgdGhlIHRhYmxlcyBtYW51YWxseS4nKTsKICAgICAgICB9CgogICAgICAgIFNjaGVtYTo6ZHJvcCgkdGFibGVOYW1lc1sncm9sZV9oYXNfcGVybWlzc2lvbnMnXSk7CiAgICAgICAgU2NoZW1hOjpkcm9wKCR0YWJsZU5hbWVzWydtb2RlbF9oYXNfcm9sZXMnXSk7CiAgICAgICAgU2NoZW1hOjpkcm9wKCR0YWJsZU5hbWVzWydtb2RlbF9oYXNfcGVybWlzc2lvbnMnXSk7CiAgICAgICAgU2NoZW1hOjpkcm9wKCR0YWJsZU5hbWVzWydyb2xlcyddKTsKICAgICAgICBTY2hlbWE6OmRyb3AoJHRhYmxlTmFtZXNbJ3Blcm1pc3Npb25zJ10pOwogICAgfQp9Cg==