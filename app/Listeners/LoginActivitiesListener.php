<?php
bolt_decrypt( __FILE__ , 'UgSCaM'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXExpc3RlbmVyczsKCnVzZSBJbGx1bWluYXRlXEF1dGhcRXZlbnRzXExvZ2luOwp1c2UgSWxsdW1pbmF0ZVxRdWV1ZVxJbnRlcmFjdHNXaXRoUXVldWU7CnVzZSBJbGx1bWluYXRlXENvbnRyYWN0c1xRdWV1ZVxTaG91bGRRdWV1ZTsKdXNlIEFwcFxMb2dpbkFjdGl2aXRpZXM7IAoKY2xhc3MgTG9naW5BY3Rpdml0aWVzTGlzdGVuZXIKewogICAgLyoqCiAgICAgKiBDcmVhdGUgdGhlIGV2ZW50IGxpc3RlbmVyLgogICAgICoKICAgICAqIEByZXR1cm4gdm9pZAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKQogICAgewogICAgICAgIC8vCiAgICB9CgogICAgLyoqCiAgICAgKiBIYW5kbGUgdGhlIGV2ZW50LgogICAgICoKICAgICAqIEBwYXJhbSAgTG9naW4gICRldmVudAogICAgICogQHJldHVybiB2b2lkCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBoYW5kbGUoTG9naW4gJGV2ZW50KQogICAgewogICAgICAgIC8qCiAgICAgICAgTG9naW5BY3Rpdml0aWVzOjppbnNlcnQoWwogICAgICAgICAgICAndXNlcl9pZCcgICAgICAgPT4gICRldmVudC0+dXNlci0+aWQsCiAgICAgICAgICAgICd1c2VyX2FnZW50JyAgICA9PiAgXElsbHVtaW5hdGVcU3VwcG9ydFxGYWNhZGVzXFJlcXVlc3Q6OmhlYWRlcignVXNlci1BZ2VudCcpLAogICAgICAgICAgICAnYnJvd3NlcicgICAgICAgPT4gICR0aGlzLT5nZXRCcm93c2VyKCktPmJyb3dzZXIuIiAoIi4kdGhpcy0+Z2V0QnJvd3NlcigpLT52ZXJzaW9uLiIpIiwKICAgICAgICAgICAgJ3BsYXRmb3JtJyAgICAgID0+ICAkdGhpcy0+Z2V0QnJvd3NlcigpLT5wbGF0Zm9ybSwKICAgICAgICAgICAgJ2lwX2FkZHJlc3MnICAgID0+ICByZXF1ZXN0KCktPmlucHV0KCdpcF9hZGRyZXNzJyk/cmVxdWVzdCgpLT5pbnB1dCgnaXBfYWRkcmVzcycpOiR0aGlzLT5nZXRCcm93c2VyKCktPmlwX2FkZHJlc3MsCiAgICAgICAgICAgICdtYWNfYWRkcmVzcycgICA9PiAgJHRoaXMtPmdldEJyb3dzZXIoKS0+bWFjX2FkZHJlc3MsIAogICAgICAgICAgICAnbG9naW5fYXQnICAgICAgPT4gIGRhdGUoIlktbS1kIEg6aTpzIiksIAogICAgICAgIF0pOwogICAgICAgICovCiAgICB9CgoKICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRCcm93c2VyKCkgCiAgICB7IAogICAgICAgICR1X2FnZW50ICAgID0gJF9TRVJWRVJbJ0hUVFBfVVNFUl9BR0VOVCddOyAKICAgICAgICAkYm5hbWUgICAgICA9ICdVbmtub3duJzsKICAgICAgICAkb3MgICAgICAgICA9ICd3aW5kb3dzJzsKICAgICAgICAkcGxhdGZvcm0gICA9ICdVbmtub3duJzsKICAgICAgICAkdmVyc2lvbiAgICA9ICIiOwoKICAgICAgICAvL0ZpcnN0IGdldCB0aGUgcGxhdGZvcm0/CiAgICAgICAgaWYgKHByZWdfbWF0Y2goJy9saW51eC9pJywgJHVfYWdlbnQpKSB7CiAgICAgICAgICAgICRwbGF0Zm9ybSA9ICdMaW51eCc7CiAgICAgICAgICAgICRvcyA9ICdsaW51eCc7CiAgICAgICAgfQogICAgICAgIGVsc2VpZiAocHJlZ19tYXRjaCgnL21hY2ludG9zaHxtYWMgb3MgeC9pJywgJHVfYWdlbnQpKSB7CiAgICAgICAgICAgICRwbGF0Zm9ybSA9ICdNYWMnOwogICAgICAgICAgICAkb3MgPSAnbWFjJzsKICAgICAgICB9CiAgICAgICAgZWxzZWlmIChwcmVnX21hdGNoKCcvd2luZG93c3x3aW4zMi9pJywgJHVfYWdlbnQpKSB7CiAgICAgICAgICAgICRwbGF0Zm9ybSA9ICdXaW5kb3dzJzsKICAgICAgICAgICAgJG9zID0gJ3dpbmRvd3MnOwoKICAgICAgICAgICAgaWYgKHByZWdfbWF0Y2goJy9OVCA2LjIvaScsICR1X2FnZW50KSkgeyAkcGxhdGZvcm0gLj0gJyA4JzsgfQogICAgICAgICAgICAgICAgZWxzZWlmIChwcmVnX21hdGNoKCcvTlQgMTAuMC9pJywgJHVfYWdlbnQpKSB7ICRwbGF0Zm9ybSAuPSAnIDEwJzsgfQogICAgICAgICAgICAgICAgZWxzZWlmIChwcmVnX21hdGNoKCcvTlQgNi4zL2knLCAkdV9hZ2VudCkpIHsgJHBsYXRmb3JtIC49ICcgOC4xJzsgfQogICAgICAgICAgICAgICAgZWxzZWlmIChwcmVnX21hdGNoKCcvTlQgNi4xL2knLCAkdV9hZ2VudCkpIHsgJHBsYXRmb3JtIC49ICcgNyc7IH0KICAgICAgICAgICAgICAgIGVsc2VpZiAocHJlZ19tYXRjaCgnL05UIDYuMC9pJywgJHVfYWdlbnQpKSB7ICRwbGF0Zm9ybSAuPSAnIFZpc3RhJzsgfQogICAgICAgICAgICAgICAgZWxzZWlmIChwcmVnX21hdGNoKCcvTlQgNS4xL2knLCAkdV9hZ2VudCkpIHsgJHBsYXRmb3JtIC49ICcgWFAnOyB9CiAgICAgICAgICAgICAgICBlbHNlaWYgKHByZWdfbWF0Y2goJy9OVCA1LjAvaScsICR1X2FnZW50KSkgeyAkcGxhdGZvcm0gLj0gJyAyMDAwJzsgfQogICAgICAgICAgICBpZiAocHJlZ19tYXRjaCgnL1dPVzY0L2knLCAkdV9hZ2VudCkgfHwgcHJlZ19tYXRjaCgnL3g2NC9pJywgJHVfYWdlbnQpKSB7ICRwbGF0Zm9ybSAuPSAnICh4NjQpJzsgCiAgICAgICAgICAgIH0KCiAgICAgICAgfQogICAgICAgIAogICAgICAgICR1YiA9ICdDaHJvbWUnOwogICAgICAgIC8vIE5leHQgZ2V0IHRoZSBuYW1lIG9mIHRoZSB1c2VyYWdlbnQgeWVzIHNlcGVyYXRlbHkgYW5kIGZvciBnb29kIHJlYXNvbgogICAgICAgIGlmKHByZWdfbWF0Y2goJy9NU0lFL2knLCR1X2FnZW50KSAmJiAhcHJlZ19tYXRjaCgnL09wZXJhL2knLCR1X2FnZW50KSkgCiAgICAgICAgeyAKICAgICAgICAgICAgJGJuYW1lID0gJ0ludGVybmV0IEV4cGxvcmVyJzsgCiAgICAgICAgICAgICR1YiA9ICJNU0lFIjsgCiAgICAgICAgfSAKICAgICAgICBlbHNlaWYocHJlZ19tYXRjaCgnL0ZpcmVmb3gvaScsJHVfYWdlbnQpKSAKICAgICAgICB7IAogICAgICAgICAgICAkYm5hbWUgPSAnTW96aWxsYSBGaXJlZm94JzsgCiAgICAgICAgICAgICR1YiA9ICJGaXJlZm94IjsgCiAgICAgICAgfSAKICAgICAgICBlbHNlaWYocHJlZ19tYXRjaCgnL0Nocm9tZS9pJywkdV9hZ2VudCkpIAogICAgICAgIHsgCiAgICAgICAgICAgICRibmFtZSA9ICdHb29nbGUgQ2hyb21lJzsgCiAgICAgICAgICAgICR1YiA9ICJDaHJvbWUiOyAKICAgICAgICB9IAogICAgICAgIGVsc2VpZihwcmVnX21hdGNoKCcvU2FmYXJpL2knLCR1X2FnZW50KSkgCiAgICAgICAgeyAKICAgICAgICAgICAgJGJuYW1lID0gJ0FwcGxlIFNhZmFyaSc7IAogICAgICAgICAgICAkdWIgPSAiU2FmYXJpIjsgCiAgICAgICAgfSAKICAgICAgICBlbHNlaWYocHJlZ19tYXRjaCgnL09wZXJhL2knLCR1X2FnZW50KSkgCiAgICAgICAgeyAKICAgICAgICAgICAgJGJuYW1lID0gJ09wZXJhJzsgCiAgICAgICAgICAgICR1YiA9ICJPcGVyYSI7IAogICAgICAgIH0gCiAgICAgICAgZWxzZWlmKHByZWdfbWF0Y2goJy9OZXRzY2FwZS9pJywkdV9hZ2VudCkpIAogICAgICAgIHsgCiAgICAgICAgICAgICRibmFtZSA9ICdOZXRzY2FwZSc7IAogICAgICAgICAgICAkdWIgPSAiTmV0c2NhcGUiOyAKICAgICAgICB9IAogICAgICAgIAogICAgICAgIC8vIGZpbmFsbHkgZ2V0IHRoZSBjb3JyZWN0IHZlcnNpb24gbnVtYmVyCiAgICAgICAgJGtub3duID0gYXJyYXkoJ1ZlcnNpb24nLCAkdWIsICdvdGhlcicpOwogICAgICAgICRwYXR0ZXJuID0gJyMoPzxicm93c2VyPicgLiBqb2luKCd8JywgJGtub3duKSAuCiAgICAgICAgJylbLyBdKyg/PHZlcnNpb24+WzAtOS58YS16QS1aLl0qKSMnOwogICAgICAgIGlmICghcHJlZ19tYXRjaF9hbGwoJHBhdHRlcm4sICR1X2FnZW50LCAkbWF0Y2hlcykpIHsKICAgICAgICAgICAgLy8gd2UgaGF2ZSBubyBtYXRjaGluZyBudW1iZXIganVzdCBjb250aW51ZQogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBzZWUgaG93IG1hbnkgd2UgaGF2ZQogICAgICAgICRpID0gY291bnQoJG1hdGNoZXNbJ2Jyb3dzZXInXSk7CiAgICAgICAgaWYgKCRpICE9IDEpIHsKICAgICAgICAgICAgLy93ZSB3aWxsIGhhdmUgdHdvIHNpbmNlIHdlIGFyZSBub3QgdXNpbmcgJ290aGVyJyBhcmd1bWVudCB5ZXQKICAgICAgICAgICAgLy9zZWUgaWYgdmVyc2lvbiBpcyBiZWZvcmUgb3IgYWZ0ZXIgdGhlIG5hbWUKICAgICAgICAgICAgaWYgKHN0cnJpcG9zKCR1X2FnZW50LCJWZXJzaW9uIikgPCBzdHJyaXBvcygkdV9hZ2VudCwkdWIpKXsKICAgICAgICAgICAgICAgICR2ZXJzaW9uID0gaXNzZXQoJG1hdGNoZXNbJ3ZlcnNpb24nXVswXSkgPyAkbWF0Y2hlc1sndmVyc2lvbiddWzBdIDogJyc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkdmVyc2lvbiA9IGlzc2V0KCRtYXRjaGVzWyd2ZXJzaW9uJ11bMV0pID8gJG1hdGNoZXNbJ3ZlcnNpb24nXVsxXSA6ICcnOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkdmVyc2lvbj0gaXNzZXQoJG1hdGNoZXNbJ3ZlcnNpb24nXVswXSkgPyAkbWF0Y2hlc1sndmVyc2lvbiddWzBdIDogJyc7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIGNoZWNrIGlmIHdlIGhhdmUgYSBudW1iZXIKICAgICAgICBpZiAoJHZlcnNpb249PW51bGwgfHwgJHZlcnNpb249PSIiKSB7JHZlcnNpb249Ij8iO30gCiAgICAgICAgCiAgICAgICAgcmV0dXJuIChvYmplY3QpYXJyYXkoCiAgICAgICAgICAgICd1c2VyQWdlbnQnID0+ICR1X2FnZW50LAogICAgICAgICAgICAnYnJvd3NlcicgICA9PiAkYm5hbWUsCiAgICAgICAgICAgICd2ZXJzaW9uJyAgID0+ICR2ZXJzaW9uLAogICAgICAgICAgICAncGxhdGZvcm0nICA9PiAkcGxhdGZvcm0sCiAgICAgICAgICAgICdwYXR0ZXJuJyAgID0+ICRwYXR0ZXJuLAogICAgICAgICAgICAnaXBfYWRkcmVzcycgID0+ICR0aGlzLT5HZXRJUCgpLAogICAgICAgICAgICAnbWFjX2FkZHJlc3MnID0+ICR0aGlzLT5HZXRNQUMoJG9zKQogICAgICAgICk7CiAgICB9IAoKICAgIHB1YmxpYyBmdW5jdGlvbiBHZXRNQUMoJG9zID0gbnVsbCkKICAgIHsKICAgICAgICBpZiAoJG9zID09ICdsaW51eCcpCiAgICAgICAgewogICAgICAgICAgICAkbWFjQ29tbWFuZFN0cmluZyA9ICJhcnAgfCBhd2sgJ0JFR0lOeyBpPTE7IH0geyBpKys7IGlmKGk9PTMpIHByaW50ICQzIH0nIjsgCiAgICAgICAgICAgIHJldHVybiBleGVjKCRtYWNDb21tYW5kU3RyaW5nKTsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgb2Jfc3RhcnQoKTsKICAgICAgICAgICAgc3lzdGVtKCdnZXRtYWMnKTsKICAgICAgICAgICAgJGNvbnRlbnQgPSBvYl9nZXRfY29udGVudHMoKTsKICAgICAgICAgICAgb2JfY2xlYW4oKTsKICAgICAgICAgICAgcmV0dXJuIHN1YnN0cigkY29udGVudCwgc3RycG9zKCRjb250ZW50LCdcXCcpLTIwLCAxNyk7CiAgICAgICAgfSAKICAgIH0KIAogICAgcHVibGljIGZ1bmN0aW9uIEdldElQKCkKICAgIHsKICAgICAgICAvLyBpcCBhZGRyZXNzCiAgICAgICAgb2Jfc3RhcnQoKTsKICAgICAgICBzeXN0ZW0oJ2lwY29uZmlnJyk7CiAgICAgICAgJGNvbnRlbnQgPSBvYl9nZXRfY29udGVudHMoKTsKICAgICAgICBvYl9jbGVhbigpOwogICAgICAgICRpcF9hZGRyZXNzID0gIiI7CiAgICAgICAgJGNvbnRlbnQgPSBzdWJzdHIoJGNvbnRlbnQsIHN0cnBvcygkY29udGVudCwgJ0lQdjQgQWRkcmVzcycpKzM2LCAxNik7CgoKICAgICAgICBpZiAocHJlZ19tYXRjaCgnL1xkezEsM31cLlxkezEsM31cLlxkezEsM31cLlxkezEsM30vJywgJGNvbnRlbnQsICRpcF9tYXRjaCkpIAogICAgICAgIHsKICAgICAgICAgICAkaXBfYWRkcmVzcyA9ICRpcF9tYXRjaFswXTsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgaWYgKGdldGVudignSFRUUF9DTElFTlRfSVAnKSkKICAgICAgICAgICAgICAgICRpcF9hZGRyZXNzID0gZ2V0ZW52KCdIVFRQX0NMSUVOVF9JUCcpOwogICAgICAgICAgICBlbHNlIGlmKGdldGVudignSFRUUF9YX0ZPUldBUkRFRF9GT1InKSkKICAgICAgICAgICAgICAgICRpcF9hZGRyZXNzID0gZ2V0ZW52KCdIVFRQX1hfRk9SV0FSREVEX0ZPUicpOwogICAgICAgICAgICBlbHNlIGlmKGdldGVudignSFRUUF9YX0ZPUldBUkRFRCcpKQogICAgICAgICAgICAgICAgICRpcF9hZGRyZXNzID0gZ2V0ZW52KCdIVFRQX1hfRk9SV0FSREVEJyk7CiAgICAgICAgICAgIGVsc2UgaWYoZ2V0ZW52KCdIVFRQX0ZPUldBUkRFRF9GT1InKSkKICAgICAgICAgICAgICAgICRpcF9hZGRyZXNzID0gZ2V0ZW52KCdIVFRQX0ZPUldBUkRFRF9GT1InKTsKICAgICAgICAgICAgZWxzZSBpZihnZXRlbnYoJ0hUVFBfRk9SV0FSREVEJykpCiAgICAgICAgICAgICAgICAkaXBfYWRkcmVzcyA9IGdldGVudignSFRUUF9GT1JXQVJERUQnKTsKICAgICAgICAgICAgZWxzZSBpZihnZXRlbnYoJ1JFTU9URV9BRERSJykpCiAgICAgICAgICAgICAgICAkaXBfYWRkcmVzcyA9IGdldGVudignUkVNT1RFX0FERFInKTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgJGlwX2FkZHJlc3MgPSAnVU5LTk9XTic7IAogICAgICAgIH0KICAgICAgICByZXR1cm4gJGlwX2FkZHJlc3M7CiAgICB9CiAKfQo=