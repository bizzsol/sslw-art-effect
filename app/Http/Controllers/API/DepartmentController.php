<?php
bolt_decrypt( __FILE__ , '8eUZQc'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcQVBJOwoKdXNlIEFwcFxIdHRwXENvbnRyb2xsZXJzXENvbnRyb2xsZXI7CnVzZSBJbGx1bWluYXRlXEh0dHBcUmVxdWVzdDsKdXNlIERCOwoKdXNlIEFwcFxNb2RlbHNcSHJcVW5pdDsKdXNlIEFwcFxNb2RlbHNcSHJcRGVwYXJ0bWVudDsKdXNlIEFwcFxNb2RlbHNcSHJcU2VjdGlvbjsKdXNlIEFwcFxNb2RlbHNcSHJcTG9jYXRpb247CnVzZSBBcHBcTW9kZWxzXEhyXERlc2lnbmF0aW9uOwp1c2UgQXBwXE1vZGVsc1xFbXBsb3llZTsKCmNsYXNzIERlcGFydG1lbnRDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlcgp7CiAgICAvKioKICAgICAqIExpc3Qgb2YgRGVwYXJ0bWVudHMKICAgICAqIAogICAgICogR2V0IExpc3Qgb2YgYWxsIGF2YWlsYWJsZSBEZXBhcnRtZW50cy4KICAgICAqIAogICAgICogQHF1ZXJ5UGFyYW0gdG9rZW4gc3RyaW5nIHJlcXVpcmVkIEF1dGhlbnRpY2F0aW9uIFRva2VuIExpc3Qgd291bGQgYmUgcHJvdmlkZWQgYnkgQklaWlNPTCBFeGFtcGxlOiBhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5emFiY2RlZgogICAgICoKICAgICAqIEBncm91cCBEZXBhcnRtZW50CiAgICAgKiBAcmV0dXJuIFxJbGx1bWluYXRlXEh0dHBcUmVzcG9uc2UKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGluZGV4KFJlcXVlc3QgJHJlcXVlc3QpewogICAgICAgIHRyeXsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlKCktPmpzb24oWwogICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnID0+IHRydWUsCiAgICAgICAgICAgICAgICAnZGF0YScgPT4gWwogICAgICAgICAgICAgICAgICAgICdkZXBhcnRtZW50cycgPT4gRGVwYXJ0bWVudDo6am9pbignaHJfdW5pdCcsICdocl91bml0LmhyX3VuaXRfaWQnLCAnPScsICdocl9kZXBhcnRtZW50LmhyX3VuaXRfaWQnKQogICAgICAgICAgICAgICAgICAgIC0+am9pbignY29tcGFuaWVzJywgJ2NvbXBhbmllcy5pZCcsICc9JywgJ2hyX3VuaXQuY29tcGFueV9pZCcpCgogICAgICAgICAgICAgICAgICAgIC0+Z2V0KFsKICAgICAgICAgICAgICAgICAgICAgIERCOjpyYXcoJ2hyX2RlcGFydG1lbnRfaWQgYXMgaWQnKSwKICAgICAgICAgICAgICAgICAgICAgIERCOjpyYXcoJ2hyX2RlcGFydG1lbnRfY29kZSBhcyBjb2RlJyksCiAgICAgICAgICAgICAgICAgICAgICBEQjo6cmF3KCdocl9kZXBhcnRtZW50X25hbWUgYXMgbmFtZScpLAogICAgICAgICAgICAgICAgICAgICAgREI6OnJhdygnaHJfZGVwYXJ0bWVudF9taW5fcmFuZ2UgYXMgbWluX3JhbmdlJyksCiAgICAgICAgICAgICAgICAgICAgICBEQjo6cmF3KCdocl9kZXBhcnRtZW50X21heF9yYW5nZSBhcyBtYXhfcmFuZ2UnKSwKCiAgICAgICAgICAgICAgICAgICAgICBEQjo6cmF3KCdocl91bml0LmhyX3VuaXRfY29kZSBhcyB1bml0X2NvZGUnKSwKICAgICAgICAgICAgICAgICAgICAgIERCOjpyYXcoJ2hyX3VuaXQuaHJfdW5pdF9uYW1lIGFzIHVuaXRfbmFtZScpLAoKICAgICAgICAgICAgICAgICAgICAgIERCOjpyYXcoJ2NvbXBhbmllcy5jb2RlIGFzIGNvbXBhbnlfY29kZScpLAogICAgICAgICAgICAgICAgICAgICAgREI6OnJhdygnY29tcGFuaWVzLm5hbWUgYXMgY29tcGFueV9uYW1lJyksCiAgICAgICAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIF0sIDIwMCk7CiAgICAgICAgfWNhdGNoIChFeGNlcHRpb24gJGUpewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UoKS0+anNvbihbCiAgICAgICAgICAgICAgICAnc3VjY2VzcycgPT4gZmFsc2UsCiAgICAgICAgICAgICAgICAnbWVzc2FnZScgPT4gJGUtPmdldE1lc3NhZ2UoKQogICAgICAgICAgICBdLCA1MDApOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFN0b3JlIERlcGFydG1lbnQKICAgICAqIAogICAgICogU3RvcmUgYSBuZXcgRGVwYXJ0bWVudC4KICAgICAqIAogICAgICogQHF1ZXJ5UGFyYW0gdG9rZW4gc3RyaW5nIHJlcXVpcmVkIEF1dGhlbnRpY2F0aW9uIFRva2VuIExpc3Qgd291bGQgYmUgcHJvdmlkZWQgYnkgQklaWlNPTCBFeGFtcGxlOiBhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5emFiY2RlZgogICAgICogQGJvZHlQYXJhbSBocl91bml0X2lkIGludGVnZXIgcmVxdWlyZWQgVW5pdCBJRCBFeGFtcGxlOiAxCiAgICAgKiBAYm9keVBhcmFtIGNvZGUgc3RyaW5nIHJlcXVpcmVkIENvZGUgb2YgdGhlIERlcGFydG1lbnQgRXhhbXBsZTogSUNUCiAgICAgKiBAYm9keVBhcmFtIG5hbWUgc3RyaW5nIHJlcXVpcmVkIE5hbWUgb2YgdGhlIERlcGFydG1lbnQgRXhhbXBsZTogSW5mb3JtYXRpb24gVGVjaG5vbG9neQogICAgICogQGJvZHlQYXJhbSBtaW5fcmFuZ2UgbnVtYmVyIHJlcXVpcmVkIE1pbmltdW0gQXBwcm92YWwgUmFuZ2Ugb2YgdGhlIERlcGFydG1lbnQgRXhhbXBsZTogMAogICAgICogQGJvZHlQYXJhbSBtYXhfcmFuZ2UgbnVtYmVyIHJlcXVpcmVkIE1heGltdW0gQXBwcm92YWwgUmFuZ2Ugb2YgdGhlIERlcGFydG1lbnQgRXhhbXBsZTogMTAwMDAwMDAKICAgICAqCiAgICAgKiBAcmVzcG9uc2UgewogICAgICogICAgICAgInN1Y2Nlc3MiOiB0cnVlLAogICAgICogICAgICAgImRhdGEiOiB7CiAgICAgKiAgICAgICAgICAgIm1lc3NhZ2UiOiAiRGVwYXJ0bWVudCBoYXMgYmVlbiBzdG9yZWQgc3VjY2Vzc2Z1bGx5LiIKICAgICAqICAgICAgIH0KICAgICAqICAgfQogICAgICogCiAgICAgKiBAZ3JvdXAgRGVwYXJ0bWVudAogICAgICogQHBhcmFtICBcSWxsdW1pbmF0ZVxIdHRwXFJlcXVlc3QgICRyZXF1ZXN0CiAgICAgKiBAcmV0dXJuIFxJbGx1bWluYXRlXEh0dHBcUmVzcG9uc2UKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIHN0b3JlKFJlcXVlc3QgJHJlcXVlc3QpCiAgICB7CiAgICAgICAgJHZhbGlkYXRvciA9IFxWYWxpZGF0b3I6Om1ha2UoJHJlcXVlc3QtPmFsbCgpLCBbCiAgICAgICAgICAgICdocl91bml0X2lkJyA9PiAncmVxdWlyZWQnLAogICAgICAgICAgICAnY29kZScgPT4gJ3JlcXVpcmVkfHVuaXF1ZTpocl9kZXBhcnRtZW50LGhyX2RlcGFydG1lbnRfY29kZScsCiAgICAgICAgICAgICduYW1lJyA9PiAncmVxdWlyZWR8dW5pcXVlOmhyX2RlcGFydG1lbnQsaHJfZGVwYXJ0bWVudF9uYW1lJywKICAgICAgICAgICAgJ21pbl9yYW5nZScgPT4gJ3JlcXVpcmVkJywKICAgICAgICAgICAgJ21heF9yYW5nZScgPT4gJ3JlcXVpcmVkJywKICAgICAgICBdKTsKCiAgICAgICAgaWYgKCR2YWxpZGF0b3ItPnBhc3NlcygpKSB7CiAgICAgICAgICAgIERCOjpiZWdpblRyYW5zYWN0aW9uKCk7CiAgICAgICAgICAgIHRyeXsKICAgICAgICAgICAgICAgIERlcGFydG1lbnQ6OmNyZWF0ZShbCiAgICAgICAgICAgICAgICAgICAgJ2hyX3VuaXRfaWQnID0+ICRyZXF1ZXN0LT5ocl91bml0X2lkLAogICAgICAgICAgICAgICAgICAgICdocl9kZXBhcnRtZW50X2NvZGUnID0+ICRyZXF1ZXN0LT5jb2RlLAogICAgICAgICAgICAgICAgICAgICdocl9kZXBhcnRtZW50X25hbWUnID0+ICRyZXF1ZXN0LT5uYW1lLAogICAgICAgICAgICAgICAgICAgICdocl9kZXBhcnRtZW50X25hbWVfYm4nID0+ICRyZXF1ZXN0LT5uYW1lLAogICAgICAgICAgICAgICAgICAgICdocl9kZXBhcnRtZW50X21pbl9yYW5nZScgPT4gJHJlcXVlc3QtPm1pbl9yYW5nZSwKICAgICAgICAgICAgICAgICAgICAnaHJfZGVwYXJ0bWVudF9tYXhfcmFuZ2UnID0+ICRyZXF1ZXN0LT5tYXhfcmFuZ2UsCiAgICAgICAgICAgICAgICBdKTsKCiAgICAgICAgICAgICAgICBEQjo6Y29tbWl0KCk7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UoKS0+anNvbihbCiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnID0+IHRydWUsCiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnID0+IFsKICAgICAgICAgICAgICAgICAgICAgICAgJ21lc3NhZ2UnID0+ICJEZXBhcnRtZW50IGhhcyBiZWVuIHN0b3JlZCBzdWNjZXNzZnVsbHkuIgogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIF0sIDIwMCk7CiAgICAgICAgICAgIH1jYXRjaCAoRXhjZXB0aW9uICRlKXsKICAgICAgICAgICAgICAgIERCOjpyb2xsYmFjaygpOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlKCktPmpzb24oWwogICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJyA9PiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAnbWVzc2FnZScgPT4gJGUtPmdldE1lc3NhZ2UoKQogICAgICAgICAgICAgICAgXSwgNTAwKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlKCktPmpzb24oWwogICAgICAgICAgICAnc3VjY2VzcycgPT4gZmFsc2UsCiAgICAgICAgICAgICdlcnJvcnMnID0+ICR2YWxpZGF0b3ItPmVycm9ycygpLT5hbGwoKQogICAgICAgIF0sIDQyMik7CiAgICB9CgogICAgLyoqCiAgICAgKiBEZXBhcnRtZW50IERldGFpbHMKICAgICAqIAogICAgICogR2V0IERlcGFydG1lbnQgYnkgaXQncyB1bmlxdWUgSUQuCiAgICAgKiAKICAgICAqIEBxdWVyeVBhcmFtIHRva2VuIHN0cmluZyByZXF1aXJlZCBBdXRoZW50aWNhdGlvbiBUb2tlbiBMaXN0IHdvdWxkIGJlIHByb3ZpZGVkIGJ5IEJJWlpTT0wgRXhhbXBsZTogYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXphYmNkZWYKICAgICAqIEBwYXRoUGFyYW0gZGVwcnRtZW50X2lkIGludCByZXF1aXJlZCBJRCBvZiB0aGUgRGVwYXJ0bWVudCBFeGFtcGxlOiAxMDAKICAgICAqCiAgICAgKiBAcmVzcG9uc2UgewogICAgICogICAgICAic3VjY2VzcyI6IHRydWUsCiAgICAgKiAgICAgICJkYXRhIjogewogICAgICogICAgICAgICAgImRlcGFydG1lbnQiOiB7CiAgICAgKiAgICAgICAgICAgICAgImlkIjogMTA2LAogICAgICogICAgICAgICAgICAgICJjb2RlIjogIkZpbmFuY2UgJiBBY2NvdW50cyIsCiAgICAgKiAgICAgICAgICAgICAgIm5hbWUiOiAiRmluYW5jZSAmIEFjY291bnRzIiwKICAgICAqICAgICAgICAgICAgICAibWluX3JhbmdlIjogIjAiLAogICAgICogICAgICAgICAgICAgICJtYXhfcmFuZ2UiOiAiMTAwMDAwMDAwMCIKICAgICAqICAgICAgICAgIH0KICAgICAqICAgICAgfQogICAgICogIH0KICAgICAqIAogICAgICogQGdyb3VwIERlcGFydG1lbnQKICAgICAqIEBwYXJhbSAgaW50ICAkaWQKICAgICAqIEByZXR1cm4gXElsbHVtaW5hdGVcSHR0cFxSZXNwb25zZQogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gc2hvdyhEZXBhcnRtZW50ICRkZXBhcnRtZW50KQogICAgewogICAgICAgIHRyeXsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlKCktPmpzb24oWwogICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnID0+IHRydWUsCiAgICAgICAgICAgICAgICAnZGF0YScgPT4gWwogICAgICAgICAgICAgICAgICAgICdkZXBhcnRtZW50JyA9PiBbCiAgICAgICAgICAgICAgICAgICAgICAnaWQnID0+ICRkZXBhcnRtZW50LT5ocl9kZXBhcnRtZW50X2lkLAogICAgICAgICAgICAgICAgICAgICAgJ2NvZGUnID0+ICRkZXBhcnRtZW50LT5ocl9kZXBhcnRtZW50X2NvZGUsCiAgICAgICAgICAgICAgICAgICAgICAnbmFtZScgPT4gJGRlcGFydG1lbnQtPmhyX2RlcGFydG1lbnRfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICdtaW5fcmFuZ2UnID0+ICRkZXBhcnRtZW50LT5ocl9kZXBhcnRtZW50X21pbl9yYW5nZSwKICAgICAgICAgICAgICAgICAgICAgICdtYXhfcmFuZ2UnID0+ICRkZXBhcnRtZW50LT5ocl9kZXBhcnRtZW50X21heF9yYW5nZSwKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIF0sIDIwMCk7CiAgICAgICAgfWNhdGNoIChFeGNlcHRpb24gJGUpewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UoKS0+anNvbihbCiAgICAgICAgICAgICAgICAnc3VjY2VzcycgPT4gZmFsc2UsCiAgICAgICAgICAgICAgICAnbWVzc2FnZScgPT4gJGUtPmdldE1lc3NhZ2UoKQogICAgICAgICAgICBdLCA1MDApOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFVwZGF0ZSBEZXBhcnRtZW50CiAgICAgKiAKICAgICAqIFVwZGF0ZSBhbiBhdmFpbGFibGUgRGVwYXJ0bWVudC4KICAgICAqIAogICAgICogQHF1ZXJ5UGFyYW0gdG9rZW4gc3RyaW5nIHJlcXVpcmVkIEF1dGhlbnRpY2F0aW9uIFRva2VuIExpc3Qgd291bGQgYmUgcHJvdmlkZWQgYnkgQklaWlNPTCBFeGFtcGxlOiBhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5emFiY2RlZgogICAgICogQGJvZHlQYXJhbSBocl91bml0X2lkIGludGVnZXIgcmVxdWlyZWQgVW5pdCBJRCBFeGFtcGxlOiAxCiAgICAgKiBAYm9keVBhcmFtIGNvZGUgc3RyaW5nIHJlcXVpcmVkIENvZGUgb2YgdGhlIERlcGFydG1lbnQgRXhhbXBsZTogSUNUCiAgICAgKiBAYm9keVBhcmFtIG5hbWUgc3RyaW5nIHJlcXVpcmVkIE5hbWUgb2YgdGhlIERlcGFydG1lbnQgRXhhbXBsZTogSW5mb3JtYXRpb24gVGVjaG5vbG9neQogICAgICogQGJvZHlQYXJhbSBtaW5fcmFuZ2UgbnVtYmVyIHJlcXVpcmVkIE1pbmltdW0gQXBwcm92YWwgUmFuZ2Ugb2YgdGhlIERlcGFydG1lbnQgRXhhbXBsZTogMAogICAgICogQGJvZHlQYXJhbSBtYXhfcmFuZ2UgbnVtYmVyIHJlcXVpcmVkIE1heGltdW0gQXBwcm92YWwgUmFuZ2Ugb2YgdGhlIERlcGFydG1lbnQgRXhhbXBsZTogMTAwMDAwMDAKICAgICAqCiAgICAgKiBAcmVzcG9uc2UgewogICAgICogICAgICAgInN1Y2Nlc3MiOiB0cnVlLAogICAgICogICAgICAgImRhdGEiOiB7CiAgICAgKiAgICAgICAgICAgIm1lc3NhZ2UiOiAiRGVwYXJ0bWVudCBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseS4iCiAgICAgKiAgICAgICB9CiAgICAgKiAgIH0KICAgICAqIAogICAgICogQGdyb3VwIERlcGFydG1lbnQKICAgICAqIEBwYXJhbSAgXElsbHVtaW5hdGVcSHR0cFxSZXF1ZXN0ICAkcmVxdWVzdAogICAgICogQHBhcmFtICBpbnQgICRpZAogICAgICogQHJldHVybiBcSWxsdW1pbmF0ZVxIdHRwXFJlc3BvbnNlCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiB1cGRhdGUoUmVxdWVzdCAkcmVxdWVzdCwgJGlkKQogICAgewogICAgICAgICR2YWxpZGF0b3IgPSBcVmFsaWRhdG9yOjptYWtlKCRyZXF1ZXN0LT5hbGwoKSwgWwogICAgICAgICAgICAnaHJfdW5pdF9pZCcgPT4gJ3JlcXVpcmVkJywKICAgICAgICAgICAgJ2NvZGUnID0+ICdyZXF1aXJlZHx1bmlxdWU6aHJfZGVwYXJ0bWVudCxocl9kZXBhcnRtZW50X2NvZGUnLAogICAgICAgICAgICAnbmFtZScgPT4gJ3JlcXVpcmVkfHVuaXF1ZTpocl9kZXBhcnRtZW50LGhyX2RlcGFydG1lbnRfbmFtZScsCiAgICAgICAgICAgICdtaW5fcmFuZ2UnID0+ICdyZXF1aXJlZCcsCiAgICAgICAgICAgICdtYXhfcmFuZ2UnID0+ICdyZXF1aXJlZCcsCiAgICAgICAgXSk7CgogICAgICAgIGlmICgkdmFsaWRhdG9yLT5wYXNzZXMoKSkgewogICAgICAgICAgICBEQjo6YmVnaW5UcmFuc2FjdGlvbigpOwogICAgICAgICAgICB0cnl7CiAgICAgICAgICAgICAgICBEZXBhcnRtZW50Ojp1cGRhdGVPckNyZWF0ZShbCiAgICAgICAgICAgICAgICAgICAgJ2hyX2RlcGFydG1lbnRfaWQnID0+ICRpZAogICAgICAgICAgICAgICAgXSxbCiAgICAgICAgICAgICAgICAgICAgJ2hyX3VuaXRfaWQnID0+ICRyZXF1ZXN0LT5ocl91bml0X2lkLAogICAgICAgICAgICAgICAgICAgICdocl9kZXBhcnRtZW50X2NvZGUnID0+ICRyZXF1ZXN0LT5jb2RlLAogICAgICAgICAgICAgICAgICAgICdocl9kZXBhcnRtZW50X25hbWUnID0+ICRyZXF1ZXN0LT5uYW1lLAogICAgICAgICAgICAgICAgICAgICdocl9kZXBhcnRtZW50X25hbWVfYm4nID0+ICRyZXF1ZXN0LT5uYW1lLAogICAgICAgICAgICAgICAgICAgICdocl9kZXBhcnRtZW50X21pbl9yYW5nZScgPT4gJHJlcXVlc3QtPm1pbl9yYW5nZSwKICAgICAgICAgICAgICAgICAgICAnaHJfZGVwYXJ0bWVudF9tYXhfcmFuZ2UnID0+ICRyZXF1ZXN0LT5tYXhfcmFuZ2UsCiAgICAgICAgICAgICAgICBdKTsKCiAgICAgICAgICAgICAgICBEQjo6Y29tbWl0KCk7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UoKS0+anNvbihbCiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnID0+IHRydWUsCiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnID0+IFsKICAgICAgICAgICAgICAgICAgICAgICAgJ21lc3NhZ2UnID0+ICJEZXBhcnRtZW50IGhhcyBiZWVuIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5LiIKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICBdLCAyMDApOwogICAgICAgICAgICB9Y2F0Y2ggKEV4Y2VwdGlvbiAkZSl7CiAgICAgICAgICAgICAgICBEQjo6cm9sbGJhY2soKTsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZSgpLT5qc29uKFsKICAgICAgICAgICAgICAgICAgICAnc3VjY2VzcycgPT4gZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgJ21lc3NhZ2UnID0+ICRlLT5nZXRNZXNzYWdlKCkKICAgICAgICAgICAgICAgIF0sIDUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiByZXNwb25zZSgpLT5qc29uKFsKICAgICAgICAgICAgJ3N1Y2Nlc3MnID0+IGZhbHNlLAogICAgICAgICAgICAnZXJyb3JzJyA9PiAkdmFsaWRhdG9yLT5lcnJvcnMoKS0+YWxsKCkKICAgICAgICBdLCA0MjIpOwogICAgfQoKICAgIC8qKgogICAgICogRGVsZXRlIERlcGFydG1lbnQKICAgICAqIAogICAgICogRGVsZXRlIGFuIGF2YWlsYWJsZSBEZXBhcnRtZW50LgogICAgICogCiAgICAgKiBAcXVlcnlQYXJhbSB0b2tlbiBzdHJpbmcgcmVxdWlyZWQgQXV0aGVudGljYXRpb24gVG9rZW4gTGlzdCB3b3VsZCBiZSBwcm92aWRlZCBieSBCSVpaU09MIEV4YW1wbGU6IGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6YWJjZGVmCiAgICAgKiBAcGF0aFBhcmFtIGRlcGFydG1lbnRfaWQgaW50IHJlcXVpcmVkIFVuaXF1ZSBJRCBvZiB0aGUgRGVwYXJ0bWVudCBFeGFtcGxlOiAxMDAKICAgICAqCiAgICAgKiBAcmVzcG9uc2UgewogICAgICogICAgICAgInN1Y2Nlc3MiOiB0cnVlLAogICAgICogICAgICAgImRhdGEiOiB7CiAgICAgKiAgICAgICAgICAgIm1lc3NhZ2UiOiAiRGVwYXJ0bWVudCBoYXMgYmVlbiBEZWxldGVkIHN1Y2Nlc3NmdWxseS4iCiAgICAgKiAgICAgICB9CiAgICAgKiAgIH0KICAgICAqIAogICAgICogQGdyb3VwIERlcGFydG1lbnQKICAgICAqIEBwYXJhbSAgaW50ICAkaWQKICAgICAqIEByZXR1cm4gXElsbHVtaW5hdGVcSHR0cFxSZXNwb25zZQogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZGVzdHJveSgkaWQpCiAgICB7CiAgICAgICAgREI6OmJlZ2luVHJhbnNhY3Rpb24oKTsKICAgICAgICB0cnl7CiAgICAgICAgICAgIERlcGFydG1lbnQ6OndoZXJlKCdocl9kZXBhcnRtZW50X2lkJywgJGlkKS0+ZGVsZXRlKCk7CgogICAgICAgICAgICBEQjo6Y29tbWl0KCk7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZSgpLT5qc29uKFsKICAgICAgICAgICAgICAgICdzdWNjZXNzJyA9PiB0cnVlLAogICAgICAgICAgICAgICAgJ2RhdGEnID0+IFsKICAgICAgICAgICAgICAgICAgICAnbWVzc2FnZScgPT4gIkRlcGFydG1lbnQgaGFzIGJlZW4gZGVsZXRlZCBzdWNjZXNzZnVsbHkuIgogICAgICAgICAgICAgICAgXQogICAgICAgICAgICBdLCAyMDApOwogICAgICAgIH1jYXRjaCAoRXhjZXB0aW9uICRlKXsKICAgICAgICAgICAgREI6OnJvbGxiYWNrKCk7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZSgpLT5qc29uKFsKICAgICAgICAgICAgICAgICdzdWNjZXNzJyA9PiBmYWxzZSwKICAgICAgICAgICAgICAgICdtZXNzYWdlJyA9PiAkZS0+Z2V0TWVzc2FnZSgpCiAgICAgICAgICAgIF0sIDUwMCk7CiAgICAgICAgfQogICAgfQp9Cg==