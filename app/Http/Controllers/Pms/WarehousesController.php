<?php
bolt_decrypt( __FILE__ , 'G9RexQ'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcUG1zOwoKdXNlIEFwcFxIdHRwXENvbnRyb2xsZXJzXENvbnRyb2xsZXI7CnVzZSBDYWNoZSwgREI7CnVzZSBDYXJib25cQ2FyYm9uOwp1c2UgSWxsdW1pbmF0ZVxEYXRhYmFzZVxFbG9xdWVudFxCdWlsZGVyOwp1c2UgSWxsdW1pbmF0ZVxIdHRwXFJlcXVlc3Q7CnVzZSBBcHBcTW9kZWxzXFBtc01vZGVsc1xSZXF1aXNpdGlvbjsKdXNlIEFwcFxNb2RlbHNcUG1zTW9kZWxzXE5vdGlmaWNhdGlvbjsKdXNlIEFwcFxNb2RlbHNcUG1zTW9kZWxzXFJlcXVpc2l0aW9uRGVsaXZlcnlJdGVtOwp1c2UgQXBwXE1vZGVsc1xQbXNNb2RlbHNcR3JuXEdvb2RzUmVjZWl2ZWRJdGVtU3RvY2tJbjsKdXNlIEFwcFxNb2RlbHNcUG1zTW9kZWxzXFB1cmNoYXNlXFB1cmNoYXNlT3JkZXI7CnVzZSBBcHBcTW9kZWxzXFBtc01vZGVsc1xSZnBcUmVxdWVzdFByb3Bvc2FsOwp1c2UgQXBwXE1vZGVsc1xQbXNNb2RlbHNcUXVvdGF0aW9uczsKdXNlIEFwcFxNb2RlbHNcUG1zTW9kZWxzXFF1b3RhdGlvbnNJdGVtczsKdXNlIEFwcFxNb2RlbHNcVXNlckNvbHVtblZpc2liaWxpdHk7CnVzZSBBcHBcTW9kZWxzXFN5c3RlbUluZm9ybWF0aW9uOwp1c2UgQXBwXE1vZHVsZTsKdXNlIEFwcFxNb2RlbHNcSHJcVW5pdDsKdXNlIEFwcFxNb2RlbHNcUG1zTW9kZWxzXFdhcmVob3VzZXM7CnVzZSBBdXRoLCBEYXRhVGFibGVzOwoKY2xhc3MgV2FyZWhvdXNlc0NvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyCnsgIAogICAgcHVibGljIGZ1bmN0aW9uIGhlYWRlckNvbHVtbnMoKQogICAgewogICAgICAgIHJldHVybiAgYXJyYXkoCiAgICAgICAgICAgIFsnU0wnLCAnU0wnLCAndGV4dC1jZW50ZXInXSwKICAgICAgICAgICAgWydjb2RlJywgJ2NvZGUnLCAndGV4dC1jZW50ZXInXSwKICAgICAgICAgICAgWyduYW1lJywgJ25hbWUnLCAndGV4dC1jZW50ZXInXSwKICAgICAgICAgICAgWydwaG9uZScsICdwaG9uZScsICd0ZXh0LWNlbnRlciddLAogICAgICAgICAgICBbJ2VtYWlsJywgJ2VtYWlsJywgJ3RleHQtY2VudGVyJ10sCiAgICAgICAgICAgIFsnbG9jYXRpb24nLCAnbG9jYXRpb24nLCAndGV4dC1jZW50ZXInXSwKICAgICAgICAgICAgWydhZGRyZXNzJywgJ2FkZHJlc3MnLCAndGV4dC1jZW50ZXInXSwKICAgICAgICAgICAgWydhY3Rpb25zJywgJ2FjdGlvbnMnLCAndGV4dC1jZW50ZXInXSwKICAgICAgICApOwogICAgfQogICAgCiAgICBwdWJsaWMgZnVuY3Rpb24gaW5kZXgoUmVxdWVzdCAkcmVxdWVzdCkKICAgIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAocmVxdWVzdCgpLT5hamF4KCkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBEYXRhdGFibGVzOjpvZigKICAgICAgICAgICAgICAgICAgICAgICAgV2FyZWhvdXNlczo6d2hlcmVJbignaWQnLCBhdXRoKCktPnVzZXIoKS0+cmVsVXNlcnNXYXJlaG91c2UtPnBsdWNrKCdpZCcpLT50b0FycmF5KCkpCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIC0+YWRkSW5kZXhDb2x1bW4oKQoKICAgICAgICAgICAgICAgICAgICAtPmFkZENvbHVtbignYWN0aW9ucycsIGZ1bmN0aW9uKCR3YXJlaG91c2UpewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJzxhIGhyZWY9IicudXJsKCdwbXMvd2FyZWhvdXNlcy8nLiR3YXJlaG91c2UtPmlkLicvZWRpdCcpLiciIGNsYXNzPSJidG4gYnRuLWluZm8gYnRuLXhzIj48aSBjbGFzcz0ibGEgbGEtZWRpdCI+PC9pPjwvYT48YSBjbGFzcz0iYnRuIGJ0bi14cyBidG4tZGFuZ2VyIG1sLTIiIG9uY2xpY2s9ImRlbGV0ZUZyb21DUlVEKCQodGhpcykpIiBkYXRhLXNyYz0iJy5yb3V0ZSgncG1zLndhcmVob3VzZXMuZGVzdHJveScsICR3YXJlaG91c2UtPmlkKS4nIj48aSBjbGFzcz0ibGEgbGEtdHJhc2giPjwvaT48L2E+JzsKICAgICAgICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgICAgICAgICAtPnJhd0NvbHVtbnMoWydhY3Rpb25zJ10pCiAgICAgICAgICAgICAgICAgICAgLT5tYWtlKHRydWUpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gdmlldygncG1zLmJhY2tlbmQucGFnZXMud2FyZWhvdXNlcy5pbmRleCcsIFsKICAgICAgICAgICAgICAgICd0aXRsZScgPT4gJ1dhcmVob3VzZXMnLAogICAgICAgICAgICAgICAgJ2hlYWRlckNvbHVtbnMnID0+ICR0aGlzLT5oZWFkZXJDb2x1bW5zKCkKICAgICAgICAgICAgXSk7CiAgICAgICAgfWNhdGNoIChcVGhyb3dhYmxlICR0aCl7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YmFja1dpdGhFcnJvcigkdGgtPmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBjcmVhdGUoUmVxdWVzdCAkcmVxdWVzdCkKICAgIHsKICAgICAgICByZXR1cm4gdmlldygncG1zLmJhY2tlbmQucGFnZXMud2FyZWhvdXNlcy5jcmVhdGUnLCBbCiAgICAgICAgICAgICd0aXRsZScgPT4gIkNyZWF0ZSBMb2NhdGlvbiIsCiAgICAgICAgXSk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIHN0b3JlKFJlcXVlc3QgJHJlcXVlc3QpCiAgICB7CiAgICAgICAgJHRoaXMtPnZhbGlkYXRlKCRyZXF1ZXN0LCBbCiAgICAgICAgICAgICdjb2RlJyA9PiAncmVxdWlyZWR8dW5pcXVlOndhcmVob3VzZXMnLAogICAgICAgICAgICAnbmFtZScgPT4gJ3JlcXVpcmVkJywKICAgICAgICAgICAgJ3Bob25lJyA9PiAncmVxdWlyZWQnLAogICAgICAgICAgICAnZW1haWwnID0+ICdyZXF1aXJlZCcsCiAgICAgICAgICAgICdsb2NhdGlvbicgPT4gJ3JlcXVpcmVkJywKICAgICAgICAgICAgJ2FkZHJlc3MnID0+ICdyZXF1aXJlZCcKICAgICAgICBdKTsKCiAgICAgICAgREI6OmJlZ2luVHJhbnNhY3Rpb24oKTsKICAgICAgICB0cnl7CiAgICAgICAgICAgICR3YXJlaG91c2UgPSBuZXcgV2FyZWhvdXNlcygpOwogICAgICAgICAgICAkd2FyZWhvdXNlLT5maWxsKCRyZXF1ZXN0LT5hbGwoKSk7CiAgICAgICAgICAgICR3YXJlaG91c2UtPnNhdmUoKTsKCiAgICAgICAgICAgIERCOjpjb21taXQoKTsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5iYWNrV2l0aFN1Y2Nlc3MoJ1dhcmVob3VzZSBDcmVhdGVkIHN1Y2Nlc3NmdWxseScpOwogICAgICAgIH1jYXRjaCAoXEV4Y2VwdGlvbiAkZSl7CiAgICAgICAgICAgIERCOjpyb2xsYmFjaygpOwogICAgICAgICAgICByZXR1cm4gJHRoaXMtPmJhY2tXaXRoRXJyb3IoJGUtPmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBlZGl0KCRpZCkKICAgIHsKICAgICAgICByZXR1cm4gdmlldygncG1zLmJhY2tlbmQucGFnZXMud2FyZWhvdXNlcy5lZGl0JywgWwogICAgICAgICAgICAndGl0bGUnID0+ICJFZGl0IFdhcmVob3VzZSIsCiAgICAgICAgICAgICd3YXJlaG91c2UnID0+IFdhcmVob3VzZXM6OmZpbmRPckZhaWwoJGlkKSwKICAgICAgICAgICAgJ3VuaXRzJyA9PiBVbml0OjphbGwoKQogICAgICAgIF0pOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiB1cGRhdGUoUmVxdWVzdCAkcmVxdWVzdCwgJGlkKQogICAgewogICAgICAgICR0aGlzLT52YWxpZGF0ZSgkcmVxdWVzdCwgWwogICAgICAgICAgICAnY29kZScgPT4gJ3JlcXVpcmVkfHVuaXF1ZTp3YXJlaG91c2VzLGNvZGUsJy4kaWQsCiAgICAgICAgICAgICduYW1lJyA9PiAncmVxdWlyZWQnLAogICAgICAgICAgICAncGhvbmUnID0+ICdyZXF1aXJlZCcsCiAgICAgICAgICAgICdlbWFpbCcgPT4gJ3JlcXVpcmVkJywKICAgICAgICAgICAgJ2xvY2F0aW9uJyA9PiAncmVxdWlyZWQnLAogICAgICAgICAgICAnYWRkcmVzcycgPT4gJ3JlcXVpcmVkJwogICAgICAgIF0pOwoKICAgICAgICBEQjo6YmVnaW5UcmFuc2FjdGlvbigpOwogICAgICAgIHRyeXsKICAgICAgICAgICAgJHdhcmVob3VzZSA9IFdhcmVob3VzZXM6OmZpbmQoJGlkKTsKICAgICAgICAgICAgJHdhcmVob3VzZS0+ZmlsbCgkcmVxdWVzdC0+YWxsKCkpOwogICAgICAgICAgICAkd2FyZWhvdXNlLT5zYXZlKCk7CgogICAgICAgICAgICBEQjo6Y29tbWl0KCk7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YmFja1dpdGhTdWNjZXNzKCdXYXJlaG91c2UgVXBkYXRlZCBzdWNjZXNzZnVsbHknKTsKICAgICAgICB9Y2F0Y2ggKFxFeGNlcHRpb24gJGUpewogICAgICAgICAgICBEQjo6cm9sbGJhY2soKTsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5iYWNrV2l0aEVycm9yKCRlLT5nZXRNZXNzYWdlKCkpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gZGVzdHJveSgkaWQpCiAgICB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgV2FyZWhvdXNlczo6d2hlcmUoJ2lkJywgJGlkKS0+ZGVsZXRlKCk7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZSgpLT5qc29uKFsKICAgICAgICAgICAgICAgICdzdWNjZXNzJyA9PiB0cnVlCiAgICAgICAgICAgIF0pOwogICAgICAgIH1jYXRjaCAoXFRocm93YWJsZSAkdGgpewogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UoKS0+anNvbihbCiAgICAgICAgICAgICAgICAnc3VjY2VzcycgPT4gdHJ1ZSwKICAgICAgICAgICAgICAgICdtZXNzYWdlJyA9PiAkdGgtPmdldE1lc3NhZ2UoKQogICAgICAgICAgICBdKTsKICAgICAgICB9CiAgICB9Cn0K