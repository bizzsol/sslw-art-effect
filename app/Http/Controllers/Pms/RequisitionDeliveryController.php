<?php
bolt_decrypt( __FILE__ , 'pVV1Cp'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcUG1zOwoKdXNlIEFwcFxIdHRwXENvbnRyb2xsZXJzXENvbnRyb2xsZXI7CnVzZSBBcHBcTW9kZWxzXFBtc01vZGVsc1xSZXF1aXNpdGlvbjsKdXNlIEFwcFxNb2RlbHNcUG1zTW9kZWxzXFJlcXVpc2l0aW9uRGVsaXZlcnk7CnVzZSBJbGx1bWluYXRlXEh0dHBcUmVxdWVzdDsKdXNlIEF1dGgsREI7CgpjbGFzcyBSZXF1aXNpdGlvbkRlbGl2ZXJ5Q29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIKewogICAgcHVibGljIGZ1bmN0aW9uIHJlcXVpc2l0aW9uRGVsaXZlcnlMaXN0KCRyZXF1aXNpdGlvbklkPW51bGwpCiAgICB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJHRpdGxlPSdSZXF1aXNpdGlvbiBEZWxpdmVyeSBMaXN0JzsKICAgICAgICAgICAgJHJlcXVpc2l0aW9uRGVsaXZlcmllcz1SZXF1aXNpdGlvbkRlbGl2ZXJ5Ojp3aXRoKCdyZWxEZWxpdmVyeUJ5JywncmVsRGVsaXZlcnlJdGVtcycsJ3JlbFJlcXVpc2l0aW9uJywncmVsUmVxdWlzaXRpb24ucmVsVXNlcnNMaXN0JywncmVsUmVxdWlzaXRpb24ucmVxdWlzaXRpb25JdGVtcycpCiAgICAgICAgICAgICAgICAtPm9yZGVyQnkoJ2lkJywnREVTQycpOwoKICAgICAgICAgICAgaWYgKCFpc19udWxsKCRyZXF1aXNpdGlvbklkKSl7CiAgICAgICAgICAgICAgICAkcmVxdWlzaXRpb25EZWxpdmVyaWVzPSRyZXF1aXNpdGlvbkRlbGl2ZXJpZXMtPndoZXJlKFsncmVxdWlzaXRpb25faWQnPT4kcmVxdWlzaXRpb25JZF0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICAkcmVxdWlzaXRpb25EZWxpdmVyaWVzPSRyZXF1aXNpdGlvbkRlbGl2ZXJpZXMtPnBhZ2luYXRlKDEwMCk7CgogICAgICAgICAgICByZXR1cm4gdmlldygncG1zLmJhY2tlbmQucGFnZXMucmVxdWlzaXRpb24tZGVsaXZlcnkuZGVsaXZlcnktbGlzdCcsIGNvbXBhY3QoJ3RpdGxlJywncmVxdWlzaXRpb25EZWxpdmVyaWVzJykpOwoKICAgICAgICB9Y2F0Y2ggKFxUaHJvd2FibGUgJHRoKXsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5iYWNrV2l0aEVycm9yKCR0aC0+Z2V0TWVzc2FnZSgpKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIHJlcXVpc2l0aW9uRGVsaXZlcnlEZXRhaWwoJHJlcXVpc2l0aW9uRGVsaXZlcnlJZCkKICAgIHsKICAgICAgICB0cnkgewogICAgICAgICAgICAkdGl0bGU9J1JlcXVpc2l0aW9uIERlbGl2ZXJ5IERldGFpbHMnOwogICAgICAgICAgICAkcmVxdWlzaXRpb25EZWxpdmVyeT1SZXF1aXNpdGlvbkRlbGl2ZXJ5Ojp3aXRoKCdyZWxEZWxpdmVyeUl0ZW1zJywncmVsUmVxdWlzaXRpb24nLCdyZWxSZXF1aXNpdGlvbi5yZWxVc2Vyc0xpc3QnKQogICAgICAgICAgICAgICAgLT5maW5kT3JGYWlsKCRyZXF1aXNpdGlvbkRlbGl2ZXJ5SWQpOwoKICAgICAgICAgICAgcmV0dXJuIHZpZXcoJ3Btcy5iYWNrZW5kLnBhZ2VzLnJlcXVpc2l0aW9uLWRlbGl2ZXJ5LmRlbGl2ZXJ5LWRldGFpbCcsIGNvbXBhY3QoJ3RpdGxlJywncmVxdWlzaXRpb25EZWxpdmVyeScpKTsKCiAgICAgICAgfWNhdGNoIChcVGhyb3dhYmxlICR0aCl7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YmFja1dpdGhFcnJvcigkdGgtPmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQp9Cg==