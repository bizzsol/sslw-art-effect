<?php
bolt_decrypt( __FILE__ , 'IRy4Ph'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXE1vZGVsc1xIcjsKCnVzZSBBcHBcTW9kZWxzXEVtcGxveWVlOwp1c2UgQXBwXE1vZGVsc1xIclxTaGlmdDsKdXNlIEFwcFxNb2RlbHNcSHJcU2hpZnRCaWxsOwp1c2UgQXBwXE1vZGVsc1xIclxTaGlmdEN1c3RvbUJyZWFrOwp1c2UgQXBwXE1vZGVsc1xIclxTaGlmdEV4dHJhQnJlYWs7CnVzZSBBcHBcTW9kZWxzXEhyXFNoaWZ0SGlzdG9yeTsKdXNlIEFwcFxNb2RlbHNcSHJcVW5pdDsKdXNlIEF3b2JhelxDb21wb3NoaXBzXENvbXBvc2hpcHM7CnVzZSBJbGx1bWluYXRlXERhdGFiYXNlXEVsb3F1ZW50XE1vZGVsOwp1c2UgU3BhdGllXEFjdGl2aXR5bG9nXFRyYWl0c1xMb2dzQWN0aXZpdHk7CnVzZSBDYXJib25cQ2FyYm9uOwoKY2xhc3MgU2hpZnQgZXh0ZW5kcyBNb2RlbAp7IAogICAgcHJvdGVjdGVkICR0YWJsZT0gJ2hyX3NoaWZ0JzsKCiAgICBwcm90ZWN0ZWQgJHByaW1hcnlLZXkgPSAnaHJfc2hpZnRfaWQnOwoKICAgIHB1YmxpYyAkdGltZXN0YW1wcz0gZmFsc2U7CgoKICAgIHByb3RlY3RlZCAkYXBwZW5kcyA9IFsnaHJfc2hpZnRfb3V0X3RpbWUnLCdkZWZhdWx0X3NoaWZ0X3RpbWUnXTsKCiAgICBwcm90ZWN0ZWQgc3RhdGljICRsb2dBdHRyaWJ1dGVzID0gWydocl9zaGlmdF9uYW1lJywgJ2hyX3NoaWZ0X2NvZGUnLCAnaHJfc2hpZnRfc3RhcnRfdGltZScsICdocl9zaGlmdF9lbmRfdGltZScsICdocl9zaGlmdF9icmVha190aW1lJywgJ2hyX3NoaWZ0X3N0YXR1cycsICdocl9zaGlmdF9uaWdodF9mbGFnJywgJ2hyX3NoaWZ0X2RlZmF1bHQnLCAnYmlsbF9lbGlnaWJsZScsICdvdF9zdGF0dXMnLCAnb3Rfc2hpZnQnXTsKCiAgICBwcm90ZWN0ZWQgc3RhdGljICRsb2dOYW1lID0gJ3NoaWZ0JzsKICAgIHByb3RlY3RlZCBzdGF0aWMgJGxvZ09ubHlEaXJ0eSA9IHRydWU7CgogICAgdXNlIENvbXBvc2hpcHMsIExvZ3NBY3Rpdml0eTsKCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0SHJTaGlmdE91dFRpbWVBdHRyaWJ1dGUoKQogICAgewogICAgICAgIHJldHVybiBDYXJib246OnBhcnNlKCR0aGlzLT5ocl9zaGlmdF9lbmRfdGltZSktPmFkZE1pbnV0ZXMoJHRoaXMtPmhyX3NoaWZ0X2JyZWFrX3RpbWUpLT5mb3JtYXQoJ0g6aTpzJyk7CiAgICB9CgoKICAgIHB1YmxpYyBmdW5jdGlvbiBnZXREZWZhdWx0U2hpZnRUaW1lQXR0cmlidXRlKCkKICAgIHsKICAgICAgICByZXR1cm4gKG9iamVjdClbCiAgICAgICAgICAgICAgICAiaHJfc2hpZnRfbmFtZSIgPT4gJHRoaXMtPmhyX3NoaWZ0X25hbWUsCiAgICAgICAgICAgICAgICAiaHJfc2hpZnRfY29kZSIgPT4gJHRoaXMtPmhyX3NoaWZ0X2NvZGUsCiAgICAgICAgICAgICAgICAiaHJfc2hpZnRfc3RhcnRfdGltZSIgPT4gJHRoaXMtPmhyX3NoaWZ0X3N0YXJ0X3RpbWUsCiAgICAgICAgICAgICAgICAiaHJfc2hpZnRfZW5kX3RpbWUiID0+ICR0aGlzLT5ocl9zaGlmdF9lbmRfdGltZSwKICAgICAgICAgICAgICAgICJocl9zaGlmdF9icmVha190aW1lIiA9PiAkdGhpcy0+aHJfc2hpZnRfYnJlYWtfdGltZSwKICAgICAgICAgICAgICAgICJvdF9zdGF0dXMiID0+ICR0aGlzLT5vdF9zdGF0dXMsCiAgICAgICAgICAgICAgICAib3Rfc2hpZnQiID0+ICR0aGlzLT5vdF9zaGlmdCwKICAgICAgICAgICAgICAgICJocl9icmVha19zdGFydF90aW1lIiA9PiAkdGhpcy0+aHJfZGVmYXVsdF9icmVha19zdGFydCwKICAgICAgICAgICAgICAgICJocl9zaGlmdF9vdXRfdGltZSIgPT4gJHRoaXMtPmhyX3NoaWZ0X291dF90aW1lLAogICAgICAgICAgICAgICAgImhyX3NoaWZ0X25pZ2h0X2ZsYWciID0+ICR0aGlzLT5ocl9zaGlmdF9uaWdodF9mbGFnLAogICAgICAgICAgICAgICAgImhyX3NoaWZ0X3VuaXRfaWQiID0+ICR0aGlzLT5ocl9zaGlmdF91bml0X2lkLAogICAgICAgICAgICAgICAgInN0YXJ0X2RhdGUiID0+IG51bGwsCiAgICAgICAgICAgICAgICAiZW5kX2RhdGUiID0+IG51bGwsCiAgICAgICAgICAgICAgICAiaGFzX2RlZmF1bHRfdmFsdWUiID0+IGZhbHNlCiAgICAgICAgICAgIF07CiAgICB9IAoKICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0U2hpZnRJZFdpc2UoJGlkKQogICAgewogICAgCXJldHVybiBTaGlmdDo6d2hlcmUoJ2hyX3NoaWZ0X2lkJywgJGlkKS0+Zmlyc3QoKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFNoaWZ0TmFtZUdldElkKCRpZCkKICAgIHsKICAgICAgICByZXR1cm4gU2hpZnQ6OnNlbGVjdCgnaHJfc2hpZnRfbmFtZScpLT53aGVyZSgnaHJfc2hpZnRfaWQnLCAkaWQpLT5wbHVjaygnaHJfc2hpZnRfbmFtZScpLT5maXJzdCgpOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gY2hlY2tFeGlzdHNUaW1lV2lzZVNoaWZ0KCRkYXRhKQogICAgewogICAgCXJldHVybiBTaGlmdDo6CiAgICAJd2hlcmUoJ2hyX3NoaWZ0X2lkJywgJGRhdGFbJ2hyX3NoaWZ0X2lkJ10pCiAgICAJLT53aGVyZSgnaHJfc2hpZnRfc3RhcnRfdGltZScsICRkYXRhWydocl9zaGlmdF9zdGFydF90aW1lJ10pCiAgICAJLT53aGVyZSgnaHJfc2hpZnRfZW5kX3RpbWUnLCAkZGF0YVsnaHJfc2hpZnRfZW5kX3RpbWUnXSkKICAgIAktPndoZXJlKCdocl9zaGlmdF9icmVha190aW1lJywgJGRhdGFbJ2hyX3NoaWZ0X2JyZWFrX3RpbWUnXSkKICAgIAktPmZpcnN0KCk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRTaGlmdHNCeVVuaXRJZFdpc2VVcWl1ZSgkdW5pdF9pZCl7CiAgICAgICAgcmV0dXJuIFNoaWZ0OjoKICAgICAgICB3aGVyZSgnaHJfc2hpZnRfdW5pdF9pZCcsICR1bml0X2lkKQogICAgICAgIC0+c2VsZWN0KCdocl9zaGlmdF9uYW1lJykKICAgICAgICAtPmRpc3RpbmN0KCdocl9zaGlmdF9uYW1lJykKICAgICAgICAtPmdldCgpCiAgICAgICAgLT50b0FycmF5KCk7CiAgICB9CgogICAgCgogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBjaGVja0V4aXN0c1NoaWZ0Q29kZSgkdW5pdCwgJGNvZGUpCiAgICB7CiAgICAgICAgcmV0dXJuIFNoaWZ0OjoKICAgICAgICB3aGVyZSgnaHJfc2hpZnRfdW5pdF9pZCcsICR1bml0KQogICAgICAgIC0+d2hlcmUoJ2hyX3NoaWZ0X2NvZGUnLCAkY29kZSkKICAgICAgICAtPmZpcnN0KCk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRDaGVja1VuaXF1ZVVuaXRJZFNoaWZ0TmFtZSgkdW5pdCwgJHNoaWZ0TmFtZSkKICAgIHsKICAgICAgICByZXR1cm4gU2hpZnQ6OgogICAgICAgIHdoZXJlKCdocl9zaGlmdF91bml0X2lkJywgJHVuaXQpCiAgICAgICAgLT53aGVyZSgnaHJfc2hpZnRfbmFtZScsICRzaGlmdE5hbWUpCiAgICAgICAgLT5sYXRlc3QoKQogICAgICAgIC0+Zmlyc3QoKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldENoZWNrVW5pcXVlVW5pdElkVGltZSgkdW5pdCwgJGRhdGEpCiAgICB7CiAgICAgICAgcmV0dXJuIFNoaWZ0OjoKICAgICAgICB3aGVyZSgnaHJfc2hpZnRfdW5pdF9pZCcsICR1bml0KQogICAgICAgIC0+d2hlcmUoJ2hyX3NoaWZ0X3N0YXJ0X3RpbWUnLCAkZGF0YVsnaHJfc2hpZnRfc3RhcnRfdGltZSddKQogICAgICAgIC0+d2hlcmUoJ2hyX3NoaWZ0X2VuZF90aW1lJywgJGRhdGFbJ2hyX3NoaWZ0X2VuZF90aW1lJ10pCiAgICAgICAgLT53aGVyZSgnaHJfc2hpZnRfYnJlYWtfdGltZScsICRkYXRhWydocl9zaGlmdF9icmVha190aW1lJ10pCiAgICAgICAgLT5maXJzdCgpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiB1bml0KCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmJlbG9uZ3NUbyhVbml0OjpjbGFzcywgJ2hyX3NoaWZ0X3VuaXRfaWQnLCAnaHJfdW5pdF9pZCcpOwogICAgfQoKICAgIC8vIGdldCBhc3NvY2lhdGVkIHNoaWZ0IGJpbGxzIHdpdGggaGlzdG9yeQoKICAgIHB1YmxpYyBmdW5jdGlvbiBiaWxscygpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5oYXNNYW55KFNoaWZ0QmlsbDo6Y2xhc3MsJ2hyX3NoaWZ0X2lkJywnaHJfc2hpZnRfaWQnKTsKICAgIH0KCiAgICAvLyBnZXQgc2hpZnQgZXh0cmEgYnJlYWsKCiAgICBwdWJsaWMgZnVuY3Rpb24gYnJlYWtzKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmhhc01hbnkoU2hpZnRFeHRyYUJyZWFrOjpjbGFzcywnaHJfc2hpZnRfaWQnLCdocl9zaGlmdF9pZCcpOwogICAgfQoKICAgIC8vIGdldCBzaGlmdCBoaXN0b3J5CgogICAgcHVibGljIGZ1bmN0aW9uIGhpc3RvcmllcygpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5oYXNNYW55KFNoaWZ0SGlzdG9yeTo6Y2xhc3MsJ2hyX3NoaWZ0X2lkJywnaHJfc2hpZnRfaWQnKS0+b3JkZXJCeSgnaWQnLCdkZXNjJyk7CiAgICB9CgogICAgLy8gZ2V0IHNoaWZ0IGJyZWFrIGN1c3RvbSBydWxlcwoKICAgIHB1YmxpYyBmdW5jdGlvbiBjdXN0b21CcmVha3MoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+aGFzTWFueShTaGlmdEN1c3RvbUJyZWFrOjpjbGFzcywnaHJfc2hpZnRfaWQnLCdocl9zaGlmdF9pZCcpOwogICAgfQoKfQo=