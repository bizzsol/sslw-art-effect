<?php
bolt_decrypt( __FILE__ , 'Mn3OQr'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXE1vZGVsc1xIcjsKCnVzZSBBcHBcTW9kZWxzXEVtcGxveWVlOwp1c2UgQXBwXE1vZGVsc1xIclxTYWxhcnlJbmRpdmlkdWFsQXVkaXQ7CnVzZSBBcHBcVXNlcjsKdXNlIElsbHVtaW5hdGVcRGF0YWJhc2VcRWxvcXVlbnRcTW9kZWw7CgpjbGFzcyBTYWxhcnlJbmRpdmlkdWFsQXVkaXQgZXh0ZW5kcyBNb2RlbAp7Cglwcm90ZWN0ZWQgJHRhYmxlID0gJ3NhbGFyeV9hdWRpdF9pbmRpdmlkdWFsJzsKCXByb3RlY3RlZCAkcHJpbWFyeUtleSA9ICdpZCc7CiAgICBwcm90ZWN0ZWQgJGd1YXJkZWQgPSBbXTsKCiAgICBwcm90ZWN0ZWQgJGRhdGVzID0gWwogICAgICAgICdjcmVhdGVkX2F0JywgJ3VwZGF0ZWRfYXQnCiAgICBdOwoKICAgIHB1YmxpYyBmdW5jdGlvbiB1c2VyKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmJlbG9uZ3NUbyhVc2VyOjpjbGFzcywgJ2F1ZGl0X2J5JywgJ2lkJyk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGVtcGxveWVlKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmJlbG9uZ3NUbyhFbXBsb3llZTo6Y2xhc3MsICdhc19pZCcsICdhc19pZCcpOwogICAgfQogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBjaGVja1NhbGFyeUluZGl2aWR1YWxBdWRpdFN0YXR1cygkZGF0YSkKICAgIHsKICAgIAlyZXR1cm4gU2FsYXJ5SW5kaXZpZHVhbEF1ZGl0Ojp3aGVyZSgndW5pdF9pZCcsICRkYXRhWyd1bml0X2lkJ10pLT53aGVyZSgnbW9udGgnLCAkZGF0YVsnbW9udGgnXSktPndoZXJlKCd5ZWFyJywgJGRhdGFbJ3llYXInXSktPndoZXJlKCdhc19pZCcsICRkYXRhWydhc19pZCddKS0+Zmlyc3QoKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFNhbGFyeUluZGl2aWR1YWxBdWRpdE1vbnRoV2lzZSgkZGF0YSkKICAgIHsKICAgICAgICByZXR1cm4gU2FsYXJ5SW5kaXZpZHVhbEF1ZGl0Ojp3aGVyZSgndW5pdF9pZCcsICRkYXRhWyd1bml0X2lkJ10pLT53aGVyZSgnbW9udGgnLCAkZGF0YVsnbW9udGgnXSktPndoZXJlKCd5ZWFyJywgJGRhdGFbJ3llYXInXSktPmdldCgpOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0U2FsYXJ5SW5kaXZpZHVhbEF1ZGl0TW9udGhXaXNlRGVsZXRlKCRkYXRhKQogICAgewogICAgICAgIHJldHVybiBTYWxhcnlJbmRpdmlkdWFsQXVkaXQ6OndoZXJlKCd1bml0X2lkJywgJGRhdGFbJ3VuaXRfaWQnXSktPndoZXJlKCdtb250aCcsICRkYXRhWydtb250aCddKS0+d2hlcmUoJ3llYXInLCAkZGF0YVsneWVhciddKS0+ZGVsZXRlKCk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRTYWxhcnlJbmRpdmlkdWFsQXVkaXRNb250aFN0YXR1c1dpc2UoJGRhdGEsICRzdGF0dXMsICR3aXRoPScnKQogICAgewogICAgICAgICRxdWVyeSA9IFNhbGFyeUluZGl2aWR1YWxBdWRpdDo6d2hlcmUoJ3VuaXRfaWQnLCAkZGF0YVsndW5pdF9pZCddKS0+d2hlcmUoJ21vbnRoJywgJGRhdGFbJ21vbnRoJ10pLT53aGVyZSgneWVhcicsICRkYXRhWyd5ZWFyJ10pLT53aGVyZSgnc3RhdHVzJywgJHN0YXR1cyk7CiAgICAgICAgaWYoJHdpdGggIT0gJycpewogICAgICAgICAgICAkcXVlcnktPndpdGgoJHdpdGgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gJHF1ZXJ5LT5nZXQoKTsKICAgIH0KfQo=