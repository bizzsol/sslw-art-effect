<?php
bolt_decrypt( __FILE__ , 'CjWHlH'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXE1vZGVsc1xIcjsKCnVzZSBJbGx1bWluYXRlXERhdGFiYXNlXEVsb3F1ZW50XE1vZGVsOwp1c2UgSWxsdW1pbmF0ZVxEYXRhYmFzZVxFbG9xdWVudFxTb2Z0RGVsZXRlczsKdXNlIEFwcFxNb2RlbHNcRW1wbG95ZWU7CnVzZSBBcHBcTW9kZWxzXEhyXERlcGFydG1lbnQ7CnVzZSBEQjsKCmNsYXNzIEFyZWEgZXh0ZW5kcyBNb2RlbAp7Cgl1c2UgU29mdERlbGV0ZXM7CgoJcHJvdGVjdGVkICR0YWJsZSA9ICdocl9hcmVhJzsKCXByb3RlY3RlZCAkcHJpbWFyeUtleSA9ICdocl9hcmVhX2lkJzsKICAgIHByb3RlY3RlZCAkZ3VhcmRlZCA9IFtdOwoKICAgIHByb3RlY3RlZCAkZGF0ZXMgPSBbCiAgICAgICAgJ2NyZWF0ZWRfYXQnLCAndXBkYXRlZF9hdCcsICdkZWxldGVkX2F0JwogICAgXTsKCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldEFjdGl2ZUFyZWEoKQogICAgewogICAgCXJldHVybiBEQjo6dGFibGUoJ2hyX2FyZWEnKS0+d2hlcmUoJ2hyX2FyZWFfc3RhdHVzJywgMSktPmdldCgpOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0QWN0aXZlQXJlYUxpc3QoKQogICAgewogICAgICAgIHJldHVybiBEQjo6dGFibGUoJ2hyX2FyZWEnKS0+d2hlcmUoJ2hyX2FyZWFfc3RhdHVzJywgMSktPnBsdWNrKCdocl9hcmVhX25hbWUnLCAnaHJfYXJlYV9pZCcpOwogICAgfQogICAgcHVibGljIGZ1bmN0aW9uIGdldEFyZWFXaXNlRW1wKCR1bml0SWQsICRhcmVhSWQpCiAgICB7CiAgICAgICAgJHdoZXJlID0gWwogICAgICAgICAgICAnYXNfdW5pdF9pZCcgPT4gJHVuaXRJZCwKICAgICAgICAgICAgJ2FzX2FyZWFfaWQnID0+ICRhcmVhSWQsCiAgICAgICAgICAgICdhc19zdGF0dXMnICA9PiAxCiAgICAgICAgXTsKICAgICAgICByZXR1cm4gRW1wbG95ZWU6OndoZXJlKCR3aGVyZSktPmdldCgpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBkZXBhcnRtZW50KCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmhhc01hbnkoJ0FwcFxNb2RlbHNcSHJcRGVwYXJ0bWVudCcsICdocl9kZXBhcnRtZW50X2FyZWFfaWQnLCAnaHJfYXJlYV9pZCcpLT5vcmRlckJ5KCdzZXF1ZW5jZScsICdBU0MnKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gc2VjdGlvbigpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5oYXNNYW55KCdBcHBcTW9kZWxzXEhyXFNlY3Rpb24nLCAnaHJfc2VjdGlvbl9hcmVhX2lkJywgJ2hyX2FyZWFfaWQnKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0QXJlYU5hbWUoJGFyZWFJZCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPndoZXJlKCdocl9hcmVhX2lkJywkYXJlYUlkKS0+Zmlyc3QoKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0RGVwYXJ0bWVudENvdW50KCRhcmVhSWQpCiAgICB7CiAgICAgICAgcmV0dXJuIERlcGFydG1lbnQ6OndoZXJlKFsnaHJfZGVwYXJ0bWVudF9hcmVhX2lkJyA9PiAkYXJlYUlkLCAnaHJfZGVwYXJ0bWVudF9zdGF0dXMnID0+IDFdKS0+Y291bnQoKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldEFyZWF0TGlzdEFzT2JqZWN0KCl7CiAgICAgICAgcmV0dXJuIEFyZWE6OnNlbGVjdChbJ2hyX2FyZWFfaWQnLCdocl9hcmVhX25hbWUnXSktPmdldCgpOwogICAgfQp9Cg==