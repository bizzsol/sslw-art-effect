<?php
bolt_decrypt( __FILE__ , 'U2om5h'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXE1vZGVsc1xIcjsKCnVzZSBBcHBcTW9kZWxzXEVtcGxveWVlOwp1c2UgQXBwXE1vZGVsc1xIclxVbml0Owp1c2UgREI7CnVzZSBJbGx1bWluYXRlXERhdGFiYXNlXEVsb3F1ZW50XE1vZGVsOwp1c2UgSWxsdW1pbmF0ZVxEYXRhYmFzZVxFbG9xdWVudFxTb2Z0RGVsZXRlczsKdXNlIFNwYXRpZVxBY3Rpdml0eWxvZ1xMb2dPcHRpb25zOwoKY2xhc3MgVW5pdCBleHRlbmRzIE1vZGVsCnsKCXVzZSBTb2Z0RGVsZXRlczsKCgkgIHByb3RlY3RlZCAkdGFibGUgPSAnaHJfdW5pdCc7CgkgIHByb3RlY3RlZCAkcHJpbWFyeUtleSA9ICdocl91bml0X2lkJzsKICAgIHByb3RlY3RlZCAkZmlsbGFibGUgPSBbCiAgICAgICdjb21wYW55X2lkJywKICAgICAgJ2hyX3VuaXRfbmFtZScsCiAgICAgICdocl91bml0X3Nob3J0X25hbWUnLAogICAgICAnaHJfdW5pdF9uYW1lX2JuJywKICAgICAgJ2hyX3VuaXRfYWRkcmVzcycsCiAgICAgICdocl91bml0X2FkZHJlc3NfYm4nLAogICAgICAnaHJfdW5pdF90ZWxlcGhvbmUnLAogICAgICAnaHJfdW5pdF9jb2RlJywKICAgICAgJ2hyX3VuaXRfbG9nbycsCiAgICAgICdocl91bml0X3N0YXR1cycsCiAgICAgICdocl91bml0X2F0dF90YWJsZScsCiAgICAgICdocl91bml0X3JlZmVyZW5jZV9oZWFkaW5nJywKICAgICAgJ2hyX3VuaXRfZ3JvdXAnLAogICAgICAnaHJfdW5pdF9hdXRob3JpemVkX3NpZ25hdHVyZScsCiAgICAgICdkZWxpdmVyeV9hZGRyZXNzJywKICAgICAgJ3BhZCcsCiAgICAgICdjcmVhdGVkX2J5JywKICAgICAgJ3VwZGF0ZWRfYnknLAogICAgICAnZGVsZXRlZF9hdCcsCiAgICBdOwogICAgcHJvdGVjdGVkICRndWFyZGVkID0gW107CgogICAgcHJvdGVjdGVkICRkYXRlcyA9IFsKICAgICAgICAnY3JlYXRlZF9hdCcsICd1cGRhdGVkX2F0JywgJ2RlbGV0ZWRfYXQnCiAgICBdOwoKICAgIHB1YmxpYyBmdW5jdGlvbiBjb21wYW55KCl7CiAgICAgIHJldHVybiAkdGhpcy0+YmVsb25nc1RvKFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xDb21wYW55OjpjbGFzcyk7IAogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBkZXBhcnRtZW50cygpewogICAgICByZXR1cm4gJHRoaXMtPmhhc01hbnkoRGVwYXJ0bWVudDo6Y2xhc3MsICdocl91bml0X2lkJywgJ2hyX3VuaXRfaWQnKTsgCiAgICB9CgogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiB1bml0TGlzdCgpCiAgICB7CiAgICAgICAgcmV0dXJuIFVuaXQ6OnBsdWNrKCdocl91bml0X25hbWUnLCAnaHJfdW5pdF9pZCcpOyAKICAgIH0KICAgIAogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiB1bml0V2l0aFNlbGVjdGVkSWQoJGlkKXsKICAgICAgcmV0dXJuIFVuaXQ6OndoZXJlKCdocl91bml0X2lkJywgJGlkKS0+Z2V0KCk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiB1bml0TmFtZSgkaWQpCiAgICB7CiAgICAgICR1bml0TmFtZT0gVW5pdDo6d2hlcmUoJ2hyX3VuaXRfaWQnLCRpZCktPmZpcnN0KFsnaHJfdW5pdF9uYW1lJ10pOyAKICAgICAgcmV0dXJuICR1bml0TmFtZTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFVuaXROYW1lQmFuZ2xhKCRpZCkKICAgIHsKICAgICAgJHVuaXROYW1lPSBVbml0Ojp3aGVyZSgnaHJfdW5pdF9pZCcsJGlkKS0+Zmlyc3QoWydocl91bml0X25hbWVfYm4nXSk7IAogICAgICByZXR1cm4gJHVuaXROYW1lOwogICAgfQoKCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0VW5pdFdpc2VFbXAoJHVuaXRJZCkKICAgIHsKICAgICAgJHdoZXJlID0gWwogICAgICAgICdhc19zdGF0dXMnID0+IDEsCiAgICAgICAgJ2FzX3VuaXRfaWQnID0+ICR1bml0SWQKICAgICAgXTsKICAgICAgcmV0dXJuIEVtcGxveWVlOjp3aGVyZSgkd2hlcmUpLT5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHVuaXRMaXN0QXNPYmplY3QoKQogICAgewogICAgICAkdW5pdExpc3QgPSBVbml0OjpzZWxlY3QoJ2hyX3VuaXRfbmFtZScsICdocl91bml0X2lkJyktPmdldCgpOyAKICAgICAgcmV0dXJuICR1bml0TGlzdDsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldEFjdGl2ZVVuaXQoKQogICAgewogICAgCXJldHVybiBEQjo6dGFibGUoJ2hyX3VuaXQnKS0+d2hlcmUoJ2hyX3VuaXRfc3RhdHVzJywgMSktPm9yZGVyQnkoJ2hyX3VuaXRfbmFtZScsICdkZXNjJyktPmdldCgpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBmaXhlZEFzc2V0TG9jYXRpb25zKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmhhc01hbnkoXEFwcFxNb2RlbHNcRml4ZWRBc3NldHNcRml4ZWRBc3NldExvY2F0aW9uOjpjbGFzcywgJ3VuaXRfaWQnLCAnaHJfdW5pdF9pZCcpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiB1c2VycygpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5oYXNNYW55KFxBcHBcVXNlclByaW9yaXR5OjpjbGFzcywgJ2hyX3VuaXRfaWQnLCAnaHJfdW5pdF9pZCcpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRBY3Rpdml0eWxvZ09wdGlvbnMoKTogTG9nT3B0aW9ucwogICAgewogICAgICAgIHJldHVybiBMb2dPcHRpb25zOjpkZWZhdWx0cygpOwogICAgfQp9Cg==