<?php
bolt_decrypt( __FILE__ , 'OfeOAV'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXE1vZGVsc1xIcjsKCnVzZSBBcHBcTW9kZWxzXEVtcGxveWVlOwp1c2UgQXBwXE1vZGVsc1xIclxTZWN0aW9uOwp1c2UgQXBwXE1vZGVsc1xIclxTdWJzZWN0aW9uOwp1c2UgSWxsdW1pbmF0ZVxEYXRhYmFzZVxFbG9xdWVudFxNb2RlbDsKdXNlIElsbHVtaW5hdGVcRGF0YWJhc2VcRWxvcXVlbnRcU29mdERlbGV0ZXM7CnVzZSBTcGF0aWVcQWN0aXZpdHlsb2dcVHJhaXRzXExvZ3NBY3Rpdml0eTsKdXNlIFNwYXRpZVxBY3Rpdml0eWxvZ1xMb2dPcHRpb25zOwoKY2xhc3MgU2VjdGlvbiBleHRlbmRzIE1vZGVsCnsKCXVzZSBTb2Z0RGVsZXRlczsKCglwcm90ZWN0ZWQgJHRhYmxlID0gJ2hyX3NlY3Rpb24nOwoJcHJvdGVjdGVkICRwcmltYXJ5S2V5ID0gJ2hyX3NlY3Rpb25faWQnOwogICAgcHJvdGVjdGVkICRmaWxsYWJsZSA9IFsKICAgICAgICAnaHJfc2VjdGlvbl9kZXBhcnRtZW50X2lkJywKICAgICAgICAnaHJfc2VjdGlvbl9uYW1lJywKICAgICAgICAnaHJfc2VjdGlvbl9uYW1lX2JuJywKICAgICAgICAnaHJfc2VjdGlvbl9jb2RlJywKICAgICAgICAnaHJfc2VjdGlvbl9zdGF0dXMnLAogICAgICAgICdjcmVhdGVkX2J5JywKICAgICAgICAndXBkYXRlZF9ieScsCiAgICAgICAgJ2RlbGV0ZWRfYXQnCiAgICBdOwoKICAgIHByb3RlY3RlZCAkZGF0ZXMgPSBbCiAgICAgICAgJ2NyZWF0ZWRfYXQnLCAndXBkYXRlZF9hdCcsICdkZWxldGVkX2F0JwogICAgXTsKCiAgICBwdWJsaWMgZnVuY3Rpb24gZGVwYXJ0bWVudCgpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5oYXNPbmUoRGVwYXJ0bWVudDo6Y2xhc3MsICdocl9kZXBhcnRtZW50X2lkJywgJ2hyX3NlY3Rpb25fZGVwYXJ0bWVudF9pZCcpOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0U2VjdGlvbkRlcGFydG1lbnRJZFdpc2UoJGlkKQogICAgewogICAgICAgIHJldHVybiBTZWN0aW9uOjp3aGVyZSgnaHJfc2VjdGlvbl9kZXBhcnRtZW50X2lkJywgJGlkKS0+d2hlcmUoJ2hyX3NlY3Rpb25fc3RhdHVzJywgMSktPmdldCgpOwogICAgfQogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRTZWN0aW9uTGlzdCgpCiAgICB7CiAgICAgCXJldHVybiBTZWN0aW9uOjpwbHVjaygnaHJfc2VjdGlvbl9uYW1lJywgJ2hyX3NlY3Rpb25faWQnKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0U2VjdGlvbldpc2VFbXAoJHVuaXRJZCwgJGFyZWFJZCwgJGRlcGFydG1lbnRfaWQsICRmbG9vcl9pZCwgJHNlY3Rpb25faWQpCiAgICB7CiAgICAJJHdoZXJlID0gWwogICAgICAgICAgICAnYXNfdW5pdF9pZCcgPT4gJHVuaXRJZCwKICAgICAgICAgICAgJ2FzX2FyZWFfaWQnID0+ICRhcmVhSWQsCiAgICAgICAgICAgICdhc19kZXBhcnRtZW50X2lkJyA9PiAkZGVwYXJ0bWVudF9pZCwKICAgICAgICAgICAgJ2FzX2Zsb29yX2lkJyA9PiAkZmxvb3JfaWQsCiAgICAgICAgICAgICdhc19zZWN0aW9uX2lkJyA9PiAkc2VjdGlvbl9pZCwKICAgICAgICAgICAgJ2FzX3N0YXR1cycgPT4gMQogICAgICAgIF07CiAgICAgICAgcmV0dXJuIEVtcGxveWVlOjp3aGVyZSgkd2hlcmUpLT5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0U3Vic2VjdGlvbkNvdW50KCRhcmVhSWQsJGRlcGFydG1lbnRJZCwkc2VjdGlvbklkKQogICAgewogICAgCXJldHVybiBTdWJzZWN0aW9uOjp3aGVyZShbJ2hyX3N1YnNlY19hcmVhX2lkJyA9PiAkYXJlYUlkLCAnaHJfc3Vic2VjX2RlcGFydG1lbnRfaWQnID0+ICRkZXBhcnRtZW50SWQsICdocl9zdWJzZWNfc2VjdGlvbl9pZCcgPT4gJHNlY3Rpb25JZCwgJ2hyX3N1YnNlY19zdGF0dXMnID0+IDFdKS0+Y291bnQoKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gc3Vic2VjdGlvbigpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5oYXNNYW55KCdBcHBcTW9kZWxzXEhyXFN1YnNlY3Rpb24nLCAnaHJfc3Vic2VjX3NlY3Rpb25faWQnLCAnaHJfc2VjdGlvbl9pZCcpOwogICAgfQoKICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRTZWN0aW9uSWROYW1lKCRkZXBfaWQpewogICAgICAgIHJldHVybiBTZWN0aW9uOjpzZWxlY3QoWydocl9zZWN0aW9uX2lkJywnaHJfc2VjdGlvbl9uYW1lJ10pLT53aGVyZSgnaHJfc2VjdGlvbl9kZXBhcnRtZW50X2lkJywkZGVwX2lkKS0+Z2V0KCk7CiAgICB9IAoKICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRBY3Rpdml0eWxvZ09wdGlvbnMoKTogTG9nT3B0aW9uc3sKICAgICAgICByZXR1cm4gTG9nT3B0aW9uczo6ZGVmYXVsdHMoKTsKICAgIH0KfQo=