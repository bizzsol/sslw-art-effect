<?php
bolt_decrypt( __FILE__ , 'PBrz1Q'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXE1vZGVsc1xIcjsKCnVzZSBJbGx1bWluYXRlXERhdGFiYXNlXEVsb3F1ZW50XE1vZGVsOwp1c2UgREI7CgpjbGFzcyBIck1vbnRobHlTYWxhcnkgZXh0ZW5kcyBNb2RlbAp7Cglwcm90ZWN0ZWQgJHRhYmxlID0gJ2hyX21vbnRobHlfc2FsYXJ5JzsKICAgIHByb3RlY3RlZCAkZ3VhcmRlZCA9IFsnaWQnXTsKCiAgICBwcm90ZWN0ZWQgJGRhdGVzID0gWwogICAgICAgICdjcmVhdGVkX2F0JywgJ3VwZGF0ZWRfYXQnCiAgICBdOwogICAgCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFNhbGFyeUxpc3RXaXRoRUlkRm9ybVRvKCRkYXRhKQogICAgewogICAgCXJldHVybiBIck1vbnRobHlTYWxhcnk6OgogICAgCXdoZXJlKCdhc19pZCcsICRkYXRhWydhc19pZCddKQogICAgCS0+d2hlcmUoJ3llYXInLCAnPj0nLCAkZGF0YVsnZm9ybVllYXInXSkKICAgIAktPndoZXJlKCd5ZWFyJywgJzw9JywgJGRhdGFbJ3RvWWVhciddKQogICAgCS0+d2hlcmUoJ21vbnRoJywgJz49JywgJGRhdGFbJ2Zvcm1Nb250aCddKQogICAgCS0+d2hlcmUoJ21vbnRoJywgJzw9JywgJGRhdGFbJ3RvTW9udGgnXSkKICAgIAktPm9yZGVyQnkoJ2FzX2lkJywgJ2Rlc2MnKQogICAgCS0+Z2V0KCk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRTYWxhcnlMaXN0RmlsdGVyV2lzZSgkYXNfaWQsICRtb250aCwgJHllYXIsICRtaW4sICRtYXgpCiAgICB7CiAgICAgICAgJHF1ZXJ5ID0gSHJNb250aGx5U2FsYXJ5Ojp3aGVyZSgnYXNfaWQnLCAkYXNfaWQpOwoKICAgICAgICBpZigkbW9udGggIT0gJycpewogICAgICAgICAgICAkcXVlcnktPndoZXJlKCdtb250aCcsICRtb250aCk7CiAgICAgICAgfQoKICAgICAgICBpZigkeWVhciAhPSAnJyl7CiAgICAgICAgICAgICRxdWVyeS0+d2hlcmUoJ3llYXInLCAkeWVhcik7CiAgICAgICAgfQoKICAgICAgICBpZigkbWluICE9ICcnKXsKICAgICAgICAgICAgJHF1ZXJ5LT53aGVyZSgnZ3Jvc3MnLCAnPj0nLCAkbWluKTsKICAgICAgICB9CgogICAgICAgIGlmKCRtYXggIT0gJycpewogICAgICAgICAgICAkcXVlcnktPndoZXJlKCdncm9zcycsICc8PScsICRtYXgpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICRxdWVyeS0+Zmlyc3QoKTsKCiAgICB9CgoKCiAgICBwdWJsaWMgZnVuY3Rpb24gc2FsYXJ5X2FkZF9kZWR1Y3QoKQogICAgewogICAgCXJldHVybiAkdGhpcy0+YmVsb25nc1RvKCdBcHBcTW9kZWxzXEVtcGxveWVlJywgJ2FzX2lkJywgJ2Fzc29jaWF0ZV9pZCcpOwogICAgfQogICAgcHVibGljIGZ1bmN0aW9uIGFjdGl2ZUVtcGxveWVlKCkKICAgIHsKICAgIAlyZXR1cm4gJHRoaXMtPmJlbG9uZ3NUbygnQXBwXE1vZGVsc1xFbXBsb3llZScsICdhc19pZCcsICdhc3NvY2lhdGVfaWQnKS0+d2hlcmUoJ2FzX3N0YXR1cycsIDUpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBlbXBsb3llZSgpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5iZWxvbmdzVG8oJ0FwcFxNb2RlbHNcRW1wbG95ZWUnLCAnYXNfaWQnLCAnYXNzb2NpYXRlX2lkJyk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGVtcGxveWVlX2JlbmdhbGkoKQogICAgewogICAgCXJldHVybiAkdGhpcy0+YmVsb25nc1RvKCdBcHBcTW9kZWxzXEhyXEVtcGxveWVlQmVuZ2FsaScsICdhc19pZCcsICdocl9ibl9hc3NvY2lhdGVfaWQnKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gYWRkX2RlZHVjdCgpCiAgICB7CiAgICAJcmV0dXJuICR0aGlzLT5iZWxvbmdzVG8oJ0FwcFxNb2RlbHNcSHJcU2FsYXJ5QWRkRGVkdWN0JywgJ3NhbGFyeV9hZGRfZGVkdWN0X2lkJywgJ2lkJyk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGJlbmVmaXRzKCkKICAgIHsKICAgIAlyZXR1cm4gJHRoaXMtPmJlbG9uZ3NUbygnQXBwXE1vZGVsc1xIclxCZW5lZml0cycsICdhc19pZCcsICdiZW5fYXNfaWQnKTsKICAgIH0KCiAgICAvLyBwdWJsaWMgZnVuY3Rpb24gbGVhdmVfYWRqdXN0X21hc3RlcigpewogICAgLy8gICAgIHJldHVybiAkdGhpcy0+aGFzT25lKFNhbGFyeUFkanVzdE1hc3Rlcjo6Y2xhc3MsIFsnYXNzb2NpYXRlX2lkJ10sIFsnYXNfaWQnXSk7CiAgICAvLyAgICAgLy8gcmV0dXJuICR0aGlzLT5oYXNPbmUoU2FsYXJ5QWRqdXN0TWFzdGVyOjpjbGFzcywgWydhc3NvY2lhdGVfaWQnLCAnbW9udGgnLCAneWVhciddLCBbJ2FzX2lkJywgJ21vbnRoJywgJ3llYXInXSk7CiAgICAvLyB9CgogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRFbXBsb3llZVNhbGFyeSgkZGF0YSkKICAgIHsKICAgICAgICByZXR1cm4gSHJNb250aGx5U2FsYXJ5OjoKICAgICAgICB3aGVyZSgnYXNfaWQnLCAkZGF0YVsnYXNfaWQnXSkKICAgICAgICAtPndoZXJlKCd5ZWFyJywgJGRhdGFbJ3llYXInXSkKICAgICAgICAtPndoZXJlKCdtb250aCcsICRkYXRhWydtb250aCddKQogICAgICAgIC0+Zmlyc3QoKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldEVtcGxveWVlU2FsYXJ5V2l0aE1vbnRoV2lzZSgkZGF0YSkKICAgIHsKICAgICAgICByZXR1cm4gSHJNb250aGx5U2FsYXJ5Ojp3aXRoKFsnZW1wbG95ZWVfYmVuZ2FsaScsICdlbXBsb3llZScsICdhZGRfZGVkdWN0J10pCiAgICAgICAgLT53aGVyZSgnYXNfaWQnLCAkZGF0YVsnYXNfaWQnXSkKICAgICAgICAtPndoZXJlKCd5ZWFyJywgJGRhdGFbJ3llYXInXSkKICAgICAgICAtPndoZXJlKCdtb250aCcsICRkYXRhWydtb250aCddKQogICAgICAgIC0+Zmlyc3QoKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFllYXJseUFjdGl2aXR5TW9udGhXaXNlKCRhc0lkLCAkeWVhcikKICAgIHsKICAgICAgICByZXR1cm4gREI6OnRhYmxlKCdocl9tb250aGx5X3NhbGFyeScpCiAgICAgICAgICAgIC0+c2VsZWN0KCdsYXRlX2NvdW50JywgJ3ByZXNlbnQnLCAnaG9saWRheScsICdhYnNlbnQnLCAnbGVhdmUnLCAnbW9udGgnLCAnb3RfaG91cicpCiAgICAgICAgICAgIC0+d2hlcmUoJ2FzX2lkJywgJGFzSWQpCiAgICAgICAgICAgIC0+d2hlcmUoJ3llYXInLCAkeWVhcikKICAgICAgICAgICAgLT5vcmRlckJ5KCdtb250aCcsICdhc2MnKQogICAgICAgICAgICAtPmdyb3VwQnkoJ21vbnRoJykKICAgICAgICAgICAgLT5nZXQoKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFllYXJseVNhbGFyeU1vbnRoV2lzZSgkYXNJZCwgJHllYXIpCiAgICB7CiAgICAgICAgcmV0dXJuIERCOjp0YWJsZSgnaHJfbW9udGhseV9zYWxhcnknKS0+c2VsZWN0KCdtb250aCcsJ3RvdGFsX3BheWFibGUnKQogICAgICAgICAgICAtPndoZXJlKCdhc19pZCcsICRhc0lkKQogICAgICAgICAgICAtPndoZXJlKCd5ZWFyJywgJHllYXIpCiAgICAgICAgICAgIC0+b3JkZXJCeSgnbW9udGgnLCAnYXNjJykKICAgICAgICAgICAgLT5ncm91cEJ5KCdtb250aCcpCiAgICAgICAgICAgIC0+Z2V0KCk7CiAgICB9Cn0K