<?php
bolt_decrypt( __FILE__ , '5lrCGc'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXE1vZGVsc1xGaXhlZEFzc2V0czsKCnVzZSBJbGx1bWluYXRlXERhdGFiYXNlXEVsb3F1ZW50XE1vZGVsOwp1c2UgSWxsdW1pbmF0ZVxEYXRhYmFzZVxFbG9xdWVudFxTb2Z0RGVsZXRlczsKCmNsYXNzIEZpeGVkQXNzZXRMb2NhdGlvbiBleHRlbmRzIE1vZGVsCnsKICAgIHVzZSBTb2Z0RGVsZXRlczsKCXByb3RlY3RlZCAkdGFibGUgPSAnZml4ZWRfYXNzZXRfbG9jYXRpb25zJzsKCXByb3RlY3RlZCAkcHJpbWFyeUtleSA9ICdpZCc7CiAgICBwcm90ZWN0ZWQgJGd1YXJkZWQgPSBbXTsKICAgIAogICAgcHJvdGVjdGVkICRmaWxsYWJsZSA9IFsKICAgICAgICAndW5pdF9pZCcsCiAgICAgICAgJ2NhdGVnb3J5X2lkJywKICAgICAgICAnY29kZScsCiAgICAgICAgJ25hbWUnLAogICAgICAgICdjb250YWN0X2Zvcl9kZWxpdmVyaWVzJywKICAgICAgICAnYWRkcmVzcycsCiAgICAgICAgJ3Bob25lJywKICAgICAgICAnbW9iaWxlJywKICAgICAgICAnZW1haWwnLAogICAgICAgICdjcmVhdGVkX2J5JywKICAgICAgICAndXBkYXRlZF9ieScsCiAgICBdOwoKICAgIHByb3RlY3RlZCAkZGF0ZXMgPSBbCiAgICAgICAgJ2NyZWF0ZWRfYXQnLCAndXBkYXRlZF9hdCcKICAgIF07CgogICAgcHVibGljIGZ1bmN0aW9uIHVuaXQoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+aGFzT25lKFxBcHBcTW9kZWxzXEhyXFVuaXQ6OmNsYXNzLCAnaHJfdW5pdF9pZCcsICd1bml0X2lkJyk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGNhdGVnb3J5KCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmJlbG9uZ3NUbyhcQXBwXE1vZGVsc1xQbXNNb2RlbHNcQ2F0ZWdvcnk6OmNsYXNzKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gZ3JuKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmhhc01hbnkoXEFwcFxNb2RlbHNcUG1zTW9kZWxzXEdyblxHb29kc1JlY2VpdmVkSXRlbVN0b2NrSW46OmNsYXNzLCAnZml4ZWRfYXNzZXRfbG9jYXRpb25faWQnLCAnaWQnKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gZml4ZWRBc3NldEJhdGNoSXRlbVVzZXJzKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmhhc01hbnkoRml4ZWRBc3NldEJhdGNoSXRlbVVzZXI6OmNsYXNzKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gbW92ZW1lbnRzKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmhhc01hbnkoRml4ZWRBc3NldEl0ZW1Nb3ZlbWVudDo6Y2xhc3MsICdmaXhlZF9hc3NldF9sb2NhdGlvbl9pZCcsICdpZCcpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBpbnNwZWN0aW9ucygpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5oYXNNYW55KEZpeGVkQXNzZXRJdGVtUGh5c2ljYWxTdGF0dXM6OmNsYXNzLCAnZml4ZWRfYXNzZXRfbG9jYXRpb25faWQnLCAnaWQnKTsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGJvb3QoKXsKICAgICAgICBwYXJlbnQ6OmJvb3QoKTsKICAgICAgICBzdGF0aWM6OmNyZWF0aW5nKGZ1bmN0aW9uKCRxdWVyeSl7CiAgICAgICAgICAgIGlmKGF1dGgoKS0+Y2hlY2soKSl7CiAgICAgICAgICAgICAgICAkcXVlcnktPmNyZWF0ZWRfYnkgPSBhdXRoKCktPnVzZXIoKS0+aWQ7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBzdGF0aWM6OnVwZGF0aW5nKGZ1bmN0aW9uKCRxdWVyeSl7CiAgICAgICAgICAgIGlmKGF1dGgoKS0+Y2hlY2soKSl7CiAgICAgICAgICAgICAgICAkcXVlcnktPnVwZGF0ZWRfYnkgPSBhdXRoKCktPnVzZXIoKS0+aWQ7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KfQo=